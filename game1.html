<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Th√°m t·ª≠ Alex Carter: V·ª• √°n bi·ªát th·ª± Black</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #1a1a1a;
            color: #e0e0e0;
            margin: 0;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }
        .container {
            max-width: 900px;
            background-color: #2a2a2a;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
        }
        h1 {
            text-align: center;
            color: #ff5555;
        }
        .story-text {
            line-height: 1.6;
            margin-bottom: 20px;
        }
        .choices {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        .choice-btn {
            background-color: #ff5555;
            color: #fff;
            padding: 10px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1em;
            transition: background-color 0.3s;
        }
        .choice-btn:hover {
            background-color: #cc4444;
        }
        .ending {
            font-weight: bold;
            color: #ffaa00;
            margin-top: 20px;
        }
        .restart-btn {
            background-color: #55aa55;
            margin-top: 10px;
        }
        .restart-btn:hover {
            background-color: #448844;
        }
        .timer {
            color: #ffaa00;
            font-weight: bold;
            margin-bottom: 10px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üïµÔ∏è‚Äç‚ôÇÔ∏è V·ª• √°n bi·ªát th·ª± Black</h1>
        <div id="timer" class="timer"></div>
        <div id="story-text" class="story-text"></div>
        <div id="choices" class="choices"></div>
        <div id="ending" class="ending"></div>
    </div>

    <script>
        const storyNodes = {
            start: {
                text: "B·∫°n l√† Alex Carter, m·ªôt th√°m t·ª≠ t√†i ba. M·ªôt t·ªëi m∆∞a, b·∫°n nh·∫≠n ƒë∆∞·ª£c cu·ªôc g·ªçi kh·∫©n c·∫•p: Adrian Black, tri·ªáu ph√∫ c√¥ng ngh·ªá, b·ªã s√°t h·∫°i t·∫°i bi·ªát th·ª± Black. B·∫°n ƒë·∫øn hi·ªán tr∆∞·ªùng v·ªõi th·ªùi gian gi·ªõi h·∫°n ƒë·ªÉ ƒëi·ªÅu tra tr∆∞·ªõc khi c√°c manh m·ªëi bi·∫øn m·∫•t. H√£y h√†nh ƒë·ªông nhanh ch√≥ng!",
                timeLimit: 60, // Th·ªùi gian gi·ªõi h·∫°n 60 gi√¢y cho nh√°nh ƒë·∫ßu ti√™n
                choices: [
                    { text: "Kh√°m x√©t hi·ªán tr∆∞·ªùng", next: "investigate_scene" },
                    { text: "Th·∫©m v·∫•n Elizabeth Black", next: "interrogate_elizabeth" },
                    { text: "N√≥i chuy·ªán v·ªõi Samuel Reed", next: "talk_to_samuel" },
                    { text: "G·∫∑p ng∆∞·ªùi l√†m v∆∞·ªùn", next: "meet_gardener" },
                    { text: "Ki·ªÉm tra h·∫ßm b√≠ m·∫≠t", next: "check_basement" } // Nh√°nh m·ªõi
                ]
            },
            investigate_scene: {
                text: "B·∫°n b∆∞·ªõc v√†o ph√≤ng kh√°ch n∆°i Adrian b·ªã s√°t h·∫°i. M√°u v∆∞∆°ng v√£i kh·∫Øp s√†n, m·ªôt chi·∫øc h·ªôp k·ª≥ l·∫° n·∫±m tr√™n b√†n v·ªõi ƒë·ªìng h·ªì v√† b·ª©c ·∫£nh c·ªßa Adrian c√πng m·ªôt ng∆∞·ªùi ph·ª• n·ªØ b√≠ ·∫©n. Th·ªùi gian ƒëang tr√¥i, b·∫°n ph·∫£i ch·ªçn nhanh!",
                timeLimit: 45,
                choices: [
                    { text: "Kh√°m ph√° b·∫±ng ch·ª©ng k·ª≥ l·∫°", next: "explore_evidence" },
                    { text: "Tham kh·∫£o b√°o c√°o c·ªßa c·∫£nh s√°t", next: "consult_police" },
                    { text: "T√¨m cu·ªën nh·∫≠t k√Ω c·ªßa Adrian", next: "find_diary" },
                    { text: "Ki·ªÉm tra c·ª≠a s·ªï b·ªã v·ª°", next: "check_window" } // T√¨nh hu·ªëng m·ªõi
                ]
            },
            explore_evidence: {
                text: "B·∫°n m·ªü chi·∫øc h·ªôp v√† th·∫•y b·ª©c ·∫£nh c√≥ d√≤ng ch·ªØ 'Sophia - 2019'. C√≥ v·∫ª c√¥ ·∫•y t·ª´ng l√† ng∆∞·ªùi quan tr·ªçng v·ªõi Adrian. B·∫°n nghe ti·∫øng b∆∞·ªõc ch√¢n ngo√†i h√†nh lang ‚Äì ai ƒë√≥ ƒëang ƒë·∫øn g·∫ßn!",
                choices: [
                    { text: "Theo d√µi Sophia", next: "follow_sophia" },
                    { text: "ƒê·ªëi ch·∫•t v·ªõi Elizabeth", next: "confront_elizabeth" },
                    { text: "·∫®n n·∫•p v√† quan s√°t", next: "hide_and_watch" } // T√¨nh hu·ªëng m·ªõi
                ]
            },
            follow_sophia: {
                text: "B·∫°n t√¨m Sophia trong th√†nh ph·ªë. C√¥ ·∫•y k·ªÉ r·∫±ng Adrian t·ª´ng n·ª£ c√¥ m·ªôt m√≥n ti·ªÅn l·ªõn v√† nghi ng·ªù gia ƒë√¨nh anh ta li√™n quan. Manh m·ªëi n√†y d·∫´n b·∫°n ƒë·∫øn m·ªôt s·ª± th·∫≠t b·∫•t ng·ªù.",
                ending: "Happy Ending: T√¨m ra th·ªß ph·∫°m trong gia ƒë√¨nh, v·ª• √°n ƒë∆∞·ª£c gi·∫£i quy·∫øt."
            },
            confront_elizabeth: {
                text: "Elizabeth ho·∫£ng lo·∫°n khi b·∫°n h·ªèi v·ªÅ Sophia. C√¥ ta khai sai v√† d·∫´n b·∫°n ƒë·∫øn m·ªôt nghi ph·∫°m sai l·∫ßm. V·ª• √°n r∆°i v√†o ng√µ c·ª•t.",
                ending: "Bad Ending: B·∫Øt nh·∫ßm ng∆∞·ªùi, v·ª• √°n kh√¥ng gi·∫£i quy·∫øt ƒë∆∞·ª£c."
            },
            hide_and_watch: {
                text: "B·∫°n ·∫©n sau r√®m v√† th·∫•y Samuel b∆∞·ªõc v√†o, l√©n l·∫•y m·ªôt v·∫≠t g√¨ ƒë√≥ t·ª´ b√†n. Anh ta c√≥ v·∫ª ƒë√°ng nghi ‚Äì b·∫°n s·∫Ω l√†m g√¨ ti·∫øp theo?",
                choices: [
                    { text: "ƒê·ªëi ch·∫•t v·ªõi Samuel", next: "confront_samuel" },
                    { text: "Theo d√µi Samuel", next: "follow_samuel" }
                ]
            },
            confront_samuel: {
                text: "Samuel th·ª´a nh·∫≠n anh ta l·∫•y m·ªôt chi·∫øc ch√¨a kh√≥a b√≠ m·∫≠t t·ª´ hi·ªán tr∆∞·ªùng. Anh ta n√≥i ƒë√≥ l√† ch√¨a kh√≥a d·∫´n ƒë·∫øn h·∫ßm c·ªßa Adrian.",
                choices: [
                    { text: "Y√™u c·∫ßu Samuel ƒë∆∞a ch√¨a kh√≥a", next: "demand_key" },
                    { text: "T·ªãch thu ch√¨a kh√≥a b·∫±ng v≈© l·ª±c", next: "take_key_force" }
                ]
            },
            demand_key: {
                text: "Samuel ƒë∆∞a ch√¨a kh√≥a nh∆∞ng c·∫£nh b√°o b·∫°n v·ªÅ nguy hi·ªÉm trong h·∫ßm. B·∫°n m·ªü h·∫ßm v√† ph√°t hi·ªán m·ªôt ph√≤ng th√≠ nghi·ªám k·ª≥ l·∫° v·ªõi nh·ªØng thi·∫øt b·ªã ph√°t s√°ng.",
                choices: [
                    { text: "Kh√°m ph√° ph√≤ng th√≠ nghi·ªám", next: "explore_lab" }
                ]
            },
            take_key_force: {
                text: "B·∫°n gi·∫±ng l·∫•y ch√¨a kh√≥a, Samuel ch·ªëng c·ª± v√† l√†m r∆°i m·ªôt l·ªç h√≥a ch·∫•t. Kh√≠ ƒë·ªôc lan ra, b·∫°n ng·∫•t ƒëi v√† kh√¥ng th·ªÉ ti·∫øp t·ª•c.",
                ending: "Bad Ending: H√≠t ph·∫£i kh√≠ ƒë·ªôc, v·ª• √°n dang d·ªü."
            },
            explore_lab: {
                text: "Ph√≤ng th√≠ nghi·ªám ch·ª©a c√°c t√†i li·ªáu v·ªÅ d·ª± √°n 'LifeLink' ‚Äì m·ªôt th√≠ nghi·ªám li√™n k·∫øt t√¢m tr√≠. B·∫°n t√¨m th·∫•y m·ªôt thi·∫øt b·ªã ƒëang ho·∫°t ƒë·ªông, nh∆∞ng n√≥ b·∫Øt ƒë·∫ßu rung chuy·ªÉn d·ªØ d·ªôi.",
                choices: [
                    { text: "T·∫Øt thi·∫øt b·ªã", next: "shutdown_device" },
                    { text: "K√≠ch ho·∫°t thi·∫øt b·ªã", next: "activate_device" }
                ]
            },
            shutdown_device: {
                text: "B·∫°n t·∫Øt thi·∫øt b·ªã v√† t√¨m th·∫•y t√†i li·ªáu ch·ªâ ra Samuel l√† ng∆∞·ªùi ƒë·ª©ng sau d·ª± √°n. Anh ta b·ªã b·∫Øt, v·ª• √°n kh√©p l·∫°i.",
                ending: "Happy Ending: Samuel l√† th·ªß ph·∫°m, v·ª• √°n ƒë∆∞·ª£c gi·∫£i quy·∫øt."
            },
            activate_device: {
                text: "Thi·∫øt b·ªã m·ªü m·ªôt c√°nh c·ªïng kh√¥ng gian. B·∫°n b·ªã h√∫t v√†o m·ªôt chi·ªÅu kh√¥ng gian kh√°c, kh√¥ng th·ªÉ quay l·∫°i.",
                ending: "T√¢m Linh Ending: B·ªã m·∫Øc k·∫πt trong chi·ªÅu kh√¥ng gian kh√°c."
            },
            follow_samuel: {
                text: "B·∫°n theo Samuel ƒë·∫øn m·ªôt nh√† kho b·ªè hoang. Anh ta g·∫∑p m·ªôt ng∆∞·ªùi l·∫° m·∫∑t v√† trao ƒë·ªïi m·ªôt chi·∫øc vali. B·∫°n c√≥ th·ªÉ can thi·ªáp ngay l·∫≠p t·ª©c ho·∫∑c ch·ªù ƒë·ª£i.",
                choices: [
                    { text: "Can thi·ªáp ngay", next: "intervene_now" },
                    { text: "Ch·ªù ƒë·ª£i v√† quan s√°t", next: "wait_and_observe" }
                ]
            },
            intervene_now: {
                text: "B·∫°n x√¥ng v√†o v√† ph√°t hi·ªán chi·∫øc vali ch·ª©a ti·ªÅn v√† t√†i li·ªáu m·∫≠t. Samuel th√∫ nh·∫≠n anh ta b√°n b√≠ m·∫≠t c·ªßa Adrian cho ƒë·ªëi th·ªß.",
                ending: "Happy Ending: B·∫Øt ƒë∆∞·ª£c Samuel, v·ª• √°n ƒë∆∞·ª£c gi·∫£i quy·∫øt."
            },
            wait_and_observe: {
                text: "B·∫°n ch·ªù ƒë·ª£i, nh∆∞ng Samuel ph√°t hi·ªán ra b·∫°n. Anh ta t·∫•n c√¥ng v√† b·∫°n b·ªã th∆∞∆°ng n·∫∑ng, kh√¥ng th·ªÉ ti·∫øp t·ª•c ƒëi·ªÅu tra.",
                ending: "Bad Ending: B·ªã Samuel h·∫° g·ª•c, v·ª• √°n th·∫•t b·∫°i."
            },
            consult_police: {
                text: "C·∫£nh s√°t b√°o c√°o r·∫±ng c√≥ d·∫•u hi·ªáu ƒë·ªôt nh·∫≠p t·ª´ b√™n ngo√†i, nh∆∞ng m·ªôt s·ªë th√¥ng tin b·ªã che gi·∫•u. B·∫°n nghi ng·ªù c√≥ n·ªôi gi√°n trong l·ª±c l∆∞·ª£ng.",
                ending: "Unknown Ending: Ph√°t hi·ªán √¢m m∆∞u l·ªõn h∆°n, v·ª• √°n ch∆∞a r√µ r√†ng."
            },
            find_diary: {
                text: "Cu·ªën nh·∫≠t k√Ω c·ªßa Adrian ghi l·∫°i nh·ªØng gi·∫•c m∆° k·ª≥ l·∫° v√† m·ªôt d·ª± √°n b√≠ m·∫≠t t√™n 'LifeLink'. C√≥ v·∫ª anh ta s·ª£ h√£i ƒëi·ªÅu g√¨ ƒë√≥ tr∆∞·ªõc khi ch·∫øt.",
                choices: [
                    { text: "ƒê·ªçc k·ªπ nh·∫≠t k√Ω", next: "read_diary" },
                    { text: "ƒê∆∞a nh·∫≠t k√Ω cho Samuel", next: "give_to_samuel" },
                    { text: "T√¨m ki·∫øm th√™m manh m·ªëi trong ph√≤ng", next: "search_room" } // T√¨nh hu·ªëng m·ªõi
                ]
            },
            read_diary: {
                text: "Nh·∫≠t k√Ω k·ªÉ v·ªÅ m·ªôt th·∫ø gi·ªõi song song m√† Adrian c·ªë g·∫Øng ti·∫øp c·∫≠n. B·∫°n c·∫£m th·∫•y kh√¥ng gian quanh m√¨nh b·∫Øt ƒë·∫ßu m√©o m√≥.",
                choices: [
                    { text: "ƒêi·ªÅu tra th·∫ø gi·ªõi song song", next: "investigate_parallel" },
                    { text: "B·ªè qua v√† quay l·∫°i hi·ªán tr∆∞·ªùng", next: "investigate_scene" }
                ]
            },
            investigate_parallel: {
                text: "B·∫°n t√¨m th·∫•y m·ªôt c√°nh c·ªïng trong bi·ªát th·ª±, b∆∞·ªõc qua v√† th·∫•y m√¨nh ·ªü m·ªôt phi√™n b·∫£n kh√°c c·ªßa th·∫ø gi·ªõi. Kh√¥ng c√≤n ƒë∆∞·ªùng v·ªÅ.",
                ending: "T√¢m Linh Ending: S·ªëng trong th·∫ø gi·ªõi song song m√£i m√£i."
            },
            give_to_samuel: {
                text: "Samuel ƒë·ªçc nh·∫≠t k√Ω v√† n√≥i r·∫±ng Adrian ƒë√£ m·∫•t tr√≠. Anh ta ƒë·ªÅ ngh·ªã h·ª£p t√°c ƒë·ªÉ ngƒÉn ch·∫∑n d·ª± √°n nguy hi·ªÉm n√†y.",
                choices: [
                    { text: "H·ª£p t√°c v·ªõi Samuel", next: "cooperate_samuel" },
                    { text: "T·ª´ ch·ªëi v√† ƒëi·ªÅu tra m·ªôt m√¨nh", next: "investigate_alone" }
                ]
            },
            cooperate_samuel: {
                text: "B·∫°n h·ª£p t√°c v·ªõi Samuel, nh∆∞ng anh ta ph·∫£n b·ªôi v√† ƒë·∫©y b·∫°n v√†o m·ªôt c√°i b·∫´y trong h·∫ßm. B·∫°n kh√¥ng th·ªÉ tho√°t ra.",
                ending: "Bad Ending: B·ªã Samuel l·ª´a, v·ª• √°n th·∫•t b·∫°i."
            },
            investigate_alone: {
                text: "B·∫°n t·ª± ƒëi·ªÅu tra v√† ƒë·ªëi m·∫∑t v·ªõi m·ªôt th·ª±c th·ªÉ si√™u nhi√™n trong bi·ªát th·ª±. N√≥ v∆∞·ª£t qu√° s·ª©c c·ªßa b·∫°n.",
                ending: "Horror Ending: B·ªã th·ª±c th·ªÉ si√™u nhi√™n ti√™u di·ªát."
            },
            search_room: {
                text: "B·∫°n t√¨m th·∫•y m·ªôt b·ª©c th∆∞ gi·∫•u trong g·∫ßm gi∆∞·ªùng, ƒë·ªÅ c·∫≠p ƒë·∫øn m·ªôt 'k·∫ª ph·∫£n b·ªôi trong n·ªôi b·ªô'. Ai ƒë√≥ trong bi·ªát th·ª± ƒëang che gi·∫•u s·ª± th·∫≠t.",
                choices: [
                    { text: "ƒêi·ªÅu tra Elizabeth", next: "interrogate_elizabeth" },
                    { text: "ƒêi·ªÅu tra Samuel", next: "talk_to_samuel" },
                    { text: "T√¨m th√™m manh m·ªëi", next: "find_more_clues" }
                ]
            },
            find_more_clues: {
                text: "B·∫°n ph√°t hi·ªán m·ªôt chi·∫øc ƒëi·ªán tho·∫°i c≈© c·ªßa Adrian v·ªõi tin nh·∫Øn cu·ªëi c√πng: 'H√£y c·∫©n th·∫≠n v·ªõi Marcus.' Marcus l√† ai?",
                choices: [
                    { text: "T√¨m ki·∫øm th√¥ng tin v·ªÅ Marcus", next: "search_marcus" }
                ]
            },
            search_marcus: {
                text: "Marcus h√≥a ra l√† m·ªôt nh√† khoa h·ªçc t·ª´ng l√†m vi·ªác v·ªõi Adrian. B·∫°n t√¨m th·∫•y anh ta trong m·ªôt ph√≤ng th√≠ nghi·ªám b·ªè hoang.",
                choices: [
                    { text: "H·ª£p t√°c v·ªõi Marcus", next: "cooperate_marcus" },
                    { text: "Th·∫©m v·∫•n Marcus", next: "interrogate_marcus" }
                ]
            },
            cooperate_marcus: {
                text: "Marcus gi√∫p b·∫°n kh√°m ph√° d·ª± √°n 'LifeLink', nh∆∞ng n√≥ k√≠ch ho·∫°t m·ªôt v·ª• n·ªï l·ªõn. C·∫£ hai b·ªã m·∫Øc k·∫πt trong ƒë·ªëng ƒë·ªï n√°t.",
                ending: "Bad Ending: B·ªã m·∫Øc k·∫πt trong v·ª• n·ªï, v·ª• √°n dang d·ªü."
            },
            interrogate_marcus: {
                text: "Marcus th√∫ nh·∫≠n anh ta v√† Samuel ƒë√£ √¢m m∆∞u gi·∫øt Adrian ƒë·ªÉ chi·∫øm d·ª± √°n. B·∫°n b·∫Øt gi·ªØ anh ta v√† gi·∫£i quy·∫øt v·ª• √°n.",
                ending: "Happy Ending: B·∫Øt ƒë∆∞·ª£c Marcus, v·ª• √°n ƒë∆∞·ª£c gi·∫£i quy·∫øt."
            },
            check_window: {
                text: "C·ª≠a s·ªï v·ª° c√≥ d·∫•u gi√†y b·∫©n b√™n ngo√†i. C√≥ v·∫ª k·∫ª ƒë·ªôt nh·∫≠p ƒë√£ tr√®o v√†o t·ª´ ƒë√¢y. B·∫°n c√≥ th·ªÉ ki·ªÉm tra v∆∞·ªùn ho·∫∑c t√¨m th√™m manh m·ªëi trong ph√≤ng.",
                choices: [
                    { text: "Ki·ªÉm tra khu v∆∞·ªùn", next: "check_garden" },
                    { text: "T√¨m th√™m manh m·ªëi trong ph√≤ng", next: "search_room" }
                ]
            },
            check_garden: {
                text: "Trong v∆∞·ªùn, b·∫°n t√¨m th·∫•y m·ªôt chi·∫øc gƒÉng tay r√°ch v√† m·ªôt m·∫©u gi·∫•y v·ªõi m√£ s·ªë: '13-25-8'. ƒê√¢y c√≥ th·ªÉ l√† m·ªôt m·∫≠t m√£.",
                choices: [
                    { text: "Gi·∫£i m√£ m·∫©u gi·∫•y", next: "decode_paper" },
                    { text: "ƒê∆∞a cho c·∫£nh s√°t ph√¢n t√≠ch", next: "give_to_police" }
                ]
            },
            decode_paper: {
                text: "B·∫°n gi·∫£i m√£ v√† ph√°t hi·ªán '13-25-8' nghƒ©a l√† 'MYH' ‚Äì vi·∫øt t·∫Øt c·ªßa 'Marcus Youngblood Hayes'. Marcus l√† nghi ph·∫°m m·ªõi!",
                choices: [
                    { text: "T√¨m ki·∫øm Marcus", next: "search_marcus" }
                ]
            },
            give_to_police: {
                text: "C·∫£nh s√°t ph√¢n t√≠ch m·∫©u gi·∫•y nh∆∞ng kh√¥ng t√¨m ra g√¨ ƒë√°ng k·ªÉ. M·ªôt s·ªë manh m·ªëi b·ªã b·ªè qua, v·ª• √°n r∆°i v√†o b·∫ø t·∫Øc.",
                ending: "Bad Ending: V·ª• √°n kh√¥ng ti·∫øn tri·ªÉn, th·∫•t b·∫°i."
            },
            interrogate_elizabeth: {
                text: "Elizabeth Black n√≥i c√¥ nghe ti·∫øng ƒë·ªông l·ªõn tr∆∞·ªõc khi Adrian ch·∫øt. L·ªùi khai c·ªßa c√¥ ƒë·∫ßy m√¢u thu·∫´n, v√† c√¥ ta tr√¥ng r·∫•t lo l·∫Øng.",
                timeLimit: 30,
                choices: [
                    { text: "√âp c√¥ ·∫•y khai th·∫≠t", next: "force_confession" },
                    { text: "H·ªèi v·ªÅ Sophia", next: "ask_sophia" },
                    { text: "Theo d√µi Elizabeth", next: "follow_elizabeth" },
                    { text: "Ki·ªÉm tra ƒëi·ªán tho·∫°i c·ªßa c√¥ ·∫•y", next: "check_phone" } // T√¨nh hu·ªëng m·ªõi
                ]
            },
            force_confession: {
                text: "Elizabeth th√∫ nh·∫≠n c√¥ l√† th·ªß ph·∫°m, nh∆∞ng b·∫•t ng·ªù t·∫•n c√¥ng b·∫°n b·∫±ng m·ªôt con dao gi·∫•u s·∫µn. B·∫°n kh√¥ng k·ªãp ph·∫£n ·ª©ng.",
                ending: "Horror Ending: B·ªã Elizabeth gi·∫øt, v·ª• √°n th·∫•t b·∫°i."
            },
            ask_sophia: {
                text: "Elizabeth n√≥i Sophia l√† b·∫°n c≈© c·ªßa Adrian, nh∆∞ng b·∫°n nghi ng·ªù c√¥ ta che gi·∫•u ƒëi·ªÅu g√¨ ƒë√≥ l·ªõn h∆°n.",
                choices: [
                    { text: "ƒêi·ªÅu tra Sophia", next: "investigate_sophia" },
                    { text: "Quay l·∫°i hi·ªán tr∆∞·ªùng", next: "investigate_scene" }
                ]
            },
            investigate_sophia: {
                text: "Sophia k·ªÉ v·ªÅ m·ªôt nghi l·ªÖ si√™u nhi√™n m√† Adrian t·ª´ng tham gia. B·∫°n b·ªã cu·ªën v√†o th·∫ø gi·ªõi b√™n kia khi c·ªë t√¨m hi·ªÉu th√™m.",
                ending: "T√¢m Linh Ending: B·ªã m·∫Øc k·∫πt trong th·∫ø gi·ªõi si√™u nhi√™n."
            },
            follow_elizabeth: {
                text: "B·∫°n theo d√µi Elizabeth v√† th·∫•y c√¥ g·∫∑p m·ªôt ng∆∞·ªùi ƒë√†n √¥ng b√≠ ·∫©n ‚Äì Marcus. H·ªç ƒëang b√†n b·∫°c g√¨ ƒë√≥ r·∫•t cƒÉng th·∫≥ng.",
                choices: [
                    { text: "Ti·∫øp c·∫≠n Marcus", next: "approach_marcus" },
                    { text: "Ti·∫øp t·ª•c theo d√µi", next: "continue_following" }
                ]
            },
            approach_marcus: {
                text: "Marcus ti·∫øt l·ªô anh ta t·ª´ng l√†m vi·ªác v·ªõi Adrian tr√™n d·ª± √°n 'LifeLink'. Anh ta ƒë·ªÅ ngh·ªã h·ª£p t√°c ƒë·ªÉ kh√°m ph√° s·ª± th·∫≠t.",
                choices: [
                    { text: "H·ª£p t√°c v·ªõi Marcus", next: "cooperate_marcus" },
                    { text: "T·ª´ ch·ªëi v√† ƒëi·ªÅu tra m·ªôt m√¨nh", next: "investigate_alone" }
                ]
            },
            continue_following: {
                text: "Elizabeth v√† Marcus r·ªùi ƒëi, ƒë·ªÉ l·∫°i m·ªôt chi·∫øc t√∫i. B·∫°n m·ªü ra v√† th·∫•y t√†i li·ªáu v·ªÅ 'LifeLink' c√πng m·ªôt thi·∫øt b·ªã l·∫°.",
                choices: [
                    { text: "Ki·ªÉm tra thi·∫øt b·ªã", next: "check_device" },
                    { text: "ƒê·ªçc t√†i li·ªáu", next: "read_documents" }
                ]
            },
            check_device: {
                text: "B·∫°n k√≠ch ho·∫°t thi·∫øt b·ªã, v√† n√≥ ph√°t ra √¢m thanh k·ª≥ l·∫°, thu h√∫t m·ªôt th·ª±c th·ªÉ si√™u nhi√™n. B·∫°n kh√¥ng th·ªÉ tho√°t kh·ªèi n√≥.",
                ending: "Horror Ending: B·ªã th·ª±c th·ªÉ si√™u nhi√™n t·∫•n c√¥ng."
            },
            read_documents: {
                text: "T√†i li·ªáu ch·ªâ ra Elizabeth v√† Marcus √¢m m∆∞u gi·∫øt Adrian. B·∫°n c√≥ b·∫±ng ch·ª©ng ƒë·ªÉ b·∫Øt gi·ªØ c·∫£ hai.",
                ending: "Happy Ending: B·∫Øt ƒë∆∞·ª£c Elizabeth v√† Marcus, v·ª• √°n ƒë∆∞·ª£c gi·∫£i quy·∫øt."
            },
            check_phone: {
                text: "ƒêi·ªán tho·∫°i c·ªßa Elizabeth c√≥ tin nh·∫Øn t·ª´ m·ªôt s·ªë l·∫°: 'H·ªßy d·ª± √°n ngay, ho·∫∑c s·∫Ω c√≥ th√™m ng∆∞·ªùi ch·∫øt.' Ai ƒë·ª©ng sau tin nh·∫Øn n√†y?",
                choices: [
                    { text: "Truy t√¨m s·ªë ƒëi·ªán tho·∫°i", next: "trace_number" },
                    { text: "H·ªèi Elizabeth v·ªÅ tin nh·∫Øn", next: "ask_elizabeth_message" }
                ]
            },
            trace_number: {
                text: "S·ªë ƒëi·ªán tho·∫°i d·∫´n b·∫°n ƒë·∫øn m·ªôt c√¥ng ty ƒë·ªëi th·ªß c·ªßa Adrian. H·ªç thu√™ s√°t th·ªß gi·∫øt anh ta ƒë·ªÉ chi·∫øm d·ª± √°n.",
                ending: "Twist Ending: C√¥ng ty ƒë·ªëi th·ªß l√† th·ªß ph·∫°m, v·ª• √°n c√≥ b∆∞·ªõc ngo·∫∑t."
            },
            ask_elizabeth_message: {
                text: "Elizabeth n√≥i ƒë√≥ l√† l·ªùi ƒëe d·ªça t·ª´ Samuel. B·∫°n c√≥ th·ªÉ tin c√¥ ·∫•y ho·∫∑c ti·∫øp t·ª•c ƒëi·ªÅu tra Samuel.",
                choices: [
                    { text: "Tin Elizabeth v√† b·∫Øt Samuel", next: "arrest_samuel_elizabeth" },
                    { text: "ƒêi·ªÅu tra Samuel th√™m", next: "talk_to_samuel" }
                ]
            },
            arrest_samuel_elizabeth: {
                text: "B·∫°n b·∫Øt Samuel d·ª±a tr√™n l·ªùi Elizabeth, nh∆∞ng h√≥a ra c√¥ ·∫•y ƒë√£ d·ª±ng chuy·ªán. Samuel v√¥ t·ªôi, v·ª• √°n th·∫•t b·∫°i.",
                ending: "Bad Ending: B·∫Øt nh·∫ßm ng∆∞·ªùi, v·ª• √°n kh√¥ng gi·∫£i quy·∫øt ƒë∆∞·ª£c."
            },
            talk_to_samuel: {
                text: "Samuel Reed n√≥i Adrian ƒëang l√†m m·ªôt d·ª± √°n nguy hi·ªÉm t√™n 'LifeLink'. Anh ta c√≥ v·∫ª bi·∫øt nhi·ªÅu h∆°n nh·ªØng g√¨ anh ta ti·∫øt l·ªô.",
                choices: [
                    { text: "Th·∫©m v·∫•n v·ªÅ d·ª± √°n", next: "interrogate_project" },
                    { text: "T√¨m t√†i li·ªáu c·ªßa Adrian", next: "discover_documents" },
                    { text: "H·ªèi v·ªÅ Elizabeth", next: "ask_about_elizabeth" },
                    { text: "Quan s√°t h√†nh vi c·ªßa Samuel", next: "observe_samuel" } // T√¨nh hu·ªëng m·ªõi
                ]
            },
            interrogate_project: {
                text: "Samuel k·ªÉ v·ªÅ 'LifeLink' v√† n√≥i anh ta t·ª´ng c·ªë ngƒÉn Adrian. B·∫°n thuy·∫øt ph·ª•c anh ta h·ª£p t√°c, v√† c·∫£ hai gi·∫£i c·ª©u Elizabeth kh·ªèi qu√° kh·ª© c·ªßa c√¥ ·∫•y.",
                ending: "Angel Ending: Elizabeth ƒë∆∞·ª£c c·ª©u, v·ª• √°n k·∫øt th√∫c y√™n b√¨nh."
            },
            discover_documents: {
                text: "B·∫°n t√¨m th·∫•y t√†i li·ªáu, nh∆∞ng Samuel l·∫•y c·∫Øp ch√∫ng v√† bi·∫øn m·∫•t. Kh√¥ng c√≥ b·∫±ng ch·ª©ng, b·∫°n th·∫•t b·∫°i.",
                ending: "Bad Ending: Samuel tr·ªën tho√°t, v·ª• √°n dang d·ªü."
            },
            ask_about_elizabeth: {
                text: "Samuel n√≥i Elizabeth v√† Adrian c√£i nhau v·ªÅ ti·ªÅn b·∫°c tr∆∞·ªõc khi anh ta ch·∫øt. C√≥ v·∫ª c√¥ ·∫•y c√≥ ƒë·ªông c∆° r√µ r√†ng.",
                choices: [
                    { text: "ƒêi·ªÅu tra t√†i ch√≠nh", next: "investigate_finances" },
                    { text: "Th·∫©m v·∫•n Elizabeth l·∫°i", next: "interrogate_elizabeth" }
                ]
            },
            investigate_finances: {
                text: "B·∫°n ph√°t hi·ªán Adrian chuy·ªÉn ti·ªÅn cho m·ªôt t√†i kho·∫£n b√≠ ·∫©n ‚Äì thu·ªôc v·ªÅ Marcus. Anh ta c√≥ th·ªÉ l√† ch√¨a kh√≥a c·ªßa v·ª• √°n.",
                choices: [
                    { text: "T√¨m Marcus", next: "search_marcus" },
                    { text: "ƒê·ªëi ch·∫•t v·ªõi Elizabeth", next: "confront_elizabeth_finances" }
                ]
            },
            confront_elizabeth_finances: {
                text: "Elizabeth n√≥i Marcus thao t√∫ng c√¥ ƒë·ªÉ l·∫•y ti·ªÅn. M·ªôt th·∫ø l·ª±c th·ª© ba xu·∫•t hi·ªán trong v·ª• √°n n√†y.",
                ending: "Twist Ending: Th·∫ø l·ª±c th·ª© ba l·ªô di·ªán, v·ª• √°n c√≥ b∆∞·ªõc ngo·∫∑t."
            },
            observe_samuel: {
                text: "Samuel t·ªè ra lo l·∫Øng v√† li√™n t·ª•c nh√¨n ra c·ª≠a s·ªï. B·∫°n nghi ng·ªù anh ta ƒëang ch·ªù ai ƒë√≥ ho·∫∑c che gi·∫•u ƒëi·ªÅu g√¨.",
                choices: [
                    { text: "Theo d√µi Samuel", next: "follow_samuel" },
                    { text: "T√¨m ki·∫øm ƒë·ªì ƒë·∫°c c·ªßa anh ta", next: "search_samuel_belongings" }
                ]
            },
            search_samuel_belongings: {
                text: "B·∫°n t√¨m th·∫•y m·ªôt b·ª©c th∆∞ trong t√∫i Samuel, vi·∫øt r·∫±ng: 'G·∫∑p t√¥i ·ªü nh√† kho l√∫c n·ª≠a ƒë√™m.' Ai ƒë√£ g·ª≠i th∆∞ n√†y?",
                choices: [
                    { text: "ƒê·∫øn nh√† kho", next: "go_to_warehouse" }
                ]
            },
            go_to_warehouse: {
                text: "T·∫°i nh√† kho, b·∫°n th·∫•y Samuel g·∫∑p Marcus. H·ªç ƒëang b√†n k·∫ø ho·∫°ch ph√° h·ªßy b·∫±ng ch·ª©ng. B·∫°n c√≥ th·ªÉ h√†nh ƒë·ªông ngay.",
                choices: [
                    { text: "B·∫Øt gi·ªØ c·∫£ hai", next: "arrest_both" },
                    { text: "Ch·ª•p ·∫£nh b·∫±ng ch·ª©ng", next: "take_photos" }
                ]
            },
            arrest_both: {
                text: "B·∫°n b·∫Øt gi·ªØ Samuel v√† Marcus. H·ªç th√∫ nh·∫≠n √¢m m∆∞u gi·∫øt Adrian ƒë·ªÉ chi·∫øm d·ª± √°n 'LifeLink'. V·ª• √°n kh√©p l·∫°i.",
                ending: "Happy Ending: B·∫Øt ƒë∆∞·ª£c Samuel v√† Marcus, v·ª• √°n ƒë∆∞·ª£c gi·∫£i quy·∫øt."
            },
            take_photos: {
                text: "B·∫°n ch·ª•p ·∫£nh, nh∆∞ng b·ªã Samuel ph√°t hi·ªán. Anh ta ph√° h·ªßy b·∫±ng ch·ª©ng tr∆∞·ªõc khi b·∫°n k·ªãp h√†nh ƒë·ªông.",
                ending: "Bad Ending: M·∫•t b·∫±ng ch·ª©ng, v·ª• √°n th·∫•t b·∫°i."
            },
            meet_gardener: {
                text: "Ng∆∞·ªùi l√†m v∆∞·ªùn k·ªÉ anh ta th·∫•y m·ªôt ng∆∞·ªùi l·∫° m·∫∑c √°o ƒëen v√†o ƒë√™m Adrian ch·∫øt. √îng ta run r·∫©y khi nh·ªõ l·∫°i chi ti·∫øt n√†y.",
                choices: [
                    { text: "H·ªèi th√™m v·ªÅ ng∆∞·ªùi l·∫°", next: "ask_about_stranger" },
                    { text: "Ki·ªÉm tra camera an ninh", next: "check_camera" },
                    { text: "Ki·ªÉm tra c√¥ng c·ª• l√†m v∆∞·ªùn", next: "check_tools" } // T√¨nh hu·ªëng m·ªõi
                ]
            },
            ask_about_stranger: {
                text: "Ng∆∞·ªùi l√†m v∆∞·ªùn n√≥i ng∆∞·ªùi l·∫° ƒë·ªôi m≈© tr√πm v√† mang theo m·ªôt chi·∫øc t√∫i l·ªõn. C√≥ v·∫ª anh ta r·∫•t v·ªôi v√£.",
                choices: [
                    { text: "T√¨m ki·∫øm ng∆∞·ªùi l·∫°", next: "search_stranger" },
                    { text: "B√°o c√°o cho c·∫£nh s√°t", next: "report_to_police" }
                ]
            },
            search_stranger: {
                text: "B·∫°n t√¨m th·∫•y ng∆∞·ªùi l·∫° ‚Äì m·ªôt nh√† b√°o t√™n Leo. Anh ta ƒëang ƒëi·ªÅu tra Adrian v√† c√≥ th√¥ng tin v·ªÅ d·ª± √°n 'LifeLink'.",
                choices: [
                    { text: "H·ª£p t√°c v·ªõi Leo", next: "cooperate_leo" }
                ]
            },
            cooperate_leo: {
                text: "Leo d·∫´n b·∫°n ƒë·∫øn m·ªôt ph√≤ng th√≠ nghi·ªám b·ªè hoang, n∆°i b·∫°n t√¨m th·∫•y b·∫±ng ch·ª©ng k·∫øt t·ªôi Marcus. V·ª• √°n ƒë∆∞·ª£c gi·∫£i quy·∫øt.",
                ending: "Happy Ending: B·∫Øt ƒë∆∞·ª£c Marcus, v·ª• √°n kh√©p l·∫°i."
            },
            report_to_police: {
                text: "C·∫£nh s√°t kh√¥ng t√¨m th·∫•y ng∆∞·ªùi l·∫° v√† cho r·∫±ng ƒë√≥ ch·ªâ l√† l·ªùi n√≥i d·ªëi. V·ª• √°n kh√¥ng ti·∫øn tri·ªÉn.",
                ending: "Bad Ending: V·ª• √°n b·∫ø t·∫Øc, th·∫•t b·∫°i."
            },
            check_camera: {
                text: "Camera ghi l·∫°i b√≥ng ƒëen di chuy·ªÉn trong v∆∞·ªùn. B·∫°n c√≥ th·ªÉ ph√¢n t√≠ch k·ªπ h∆°n ho·∫∑c h·ªèi ng∆∞·ªùi l√†m v∆∞·ªùn th√™m.",
                choices: [
                    { text: "Ph√¢n t√≠ch h√¨nh ·∫£nh", next: "analyze_image" },
                    { text: "H·ªèi ng∆∞·ªùi l√†m v∆∞·ªùn", next: "ask_gardener_again" }
                ]
            },
            analyze_image: {
                text: "H√¨nh ·∫£nh cho th·∫•y b√≥ng ƒëen l√† m·ªôt ng∆∞·ªùi m·∫∑c ƒë·ªì c·∫£nh s√°t. C√≥ th·ªÉ c√≥ n·ªôi gi√°n trong l·ª±c l∆∞·ª£ng ch·ª©c nƒÉng.",
                ending: "Unknown Ending: Ph√°t hi·ªán √¢m m∆∞u c·ªßa c·∫£nh s√°t, v·ª• √°n ch∆∞a r√µ r√†ng."
            },
            ask_gardener_again: {
                text: "Ng∆∞·ªùi l√†m v∆∞·ªùn n√≥i b√≥ng ƒëen mang theo m·ªôt chi·∫øc x·∫ªng ‚Äì c√≥ th·ªÉ hung kh√≠ ƒë√£ b·ªã gi·∫•u trong v∆∞·ªùn.",
                choices: [
                    { text: "T√¨m ki·∫øm trong v∆∞·ªùn", next: "search_garden" }
                ]
            },
            search_garden: {
                text: "B·∫°n ƒë√†o b·ªõi v√† t√¨m th·∫•y m·ªôt chi·∫øc x·∫ªng d√≠nh m√°u. Ph√¢n t√≠ch cho th·∫•y ƒë√≥ l√† hung kh√≠ gi·∫øt Adrian, v√† d·∫•u v√¢n tay thu·ªôc v·ªÅ Samuel.",
                ending: "Happy Ending: T√¨m hung kh√≠, b·∫Øt ƒë∆∞·ª£c Samuel, v·ª• √°n ƒë∆∞·ª£c gi·∫£i quy·∫øt."
            },
            check_tools: {
                text: "B·∫°n ki·ªÉm tra c√¥ng c·ª• l√†m v∆∞·ªùn v√† th·∫•y m·ªôt chi·∫øc cu·ªëc c√≥ v·∫øt m√°u kh√¥. C√≥ th·ªÉ ƒë√¢y l√† hung kh√≠.",
                choices: [
                    { text: "Mang ƒëi ph√¢n t√≠ch", next: "analyze_tool" },
                    { text: "H·ªèi ng∆∞·ªùi l√†m v∆∞·ªùn v·ªÅ c√¥ng c·ª•", next: "ask_gardener_tool" }
                ]
            },
            analyze_tool: {
                text: "Ph√¢n t√≠ch cho th·∫•y m√°u tr√™n cu·ªëc l√† c·ªßa Adrian, v√† d·∫•u v√¢n tay thu·ªôc v·ªÅ Elizabeth. C√¥ ta l√† th·ªß ph·∫°m.",
                ending: "Happy Ending: B·∫Øt ƒë∆∞·ª£c Elizabeth, v·ª• √°n ƒë∆∞·ª£c gi·∫£i quy·∫øt."
            },
            ask_gardener_tool: {
                text: "Ng∆∞·ªùi l√†m v∆∞·ªùn n√≥i √¥ng ta th·∫•y Elizabeth c·∫ßm chi·∫øc cu·ªëc v√†o ƒë√™m ƒë√≥, nh∆∞ng kh√¥ng d√°m n√≥i v√¨ s·ª£ b·ªã tr·∫£ th√π.",
                choices: [
                    { text: "ƒê·ªëi ch·∫•t v·ªõi Elizabeth", next: "confront_elizabeth_tool" }
                ]
            },
            confront_elizabeth_tool: {
                text: "Elizabeth th√∫ nh·∫≠n c√¥ gi·∫øt Adrian trong l√∫c c√£i v√£. C√¥ ta c·∫ßu xin b·∫°n tha th·ª©, nh∆∞ng b·∫°n ph·∫£i ƒë∆∞a c√¥ ta ra c√¥ng l√Ω.",
                ending: "Happy Ending: Elizabeth b·ªã b·∫Øt, v·ª• √°n kh√©p l·∫°i."
            },
            check_basement: {
                text: "B·∫°n xu·ªëng h·∫ßm v√† ph√°t hi·ªán m·ªôt cƒÉn ph√≤ng kh√≥a ch·∫∑t v·ªõi m√πi h√≥a ch·∫•t n·ªìng n·∫∑c. C√≥ v·∫ª ƒë√¢y l√† n∆°i Adrian l√†m vi·ªác b√≠ m·∫≠t.",
                choices: [
                    { text: "Ph√° c·ª≠a v√†o", next: "break_door" },
                    { text: "T√¨m ch√¨a kh√≥a", next: "find_key" },
                    { text: "G·ªçi h·ªó tr·ª£ t·ª´ c·∫£nh s√°t", next: "call_police_support" } // T√¨nh hu·ªëng m·ªõi
                ]
            },
            break_door: {
                text: "B·∫°n ph√° c·ª≠a v√† th·∫•y m·ªôt ph√≤ng th√≠ nghi·ªám v·ªõi thi·∫øt b·ªã 'LifeLink'. M·ªôt v·ª• n·ªï x·∫£y ra do √°p su·∫•t, v√† b·∫°n kh√¥ng th·ªÉ tho√°t ra.",
                ending: "Bad Ending: Ch·∫øt trong v·ª• n·ªï, v·ª• √°n dang d·ªü."
            },
            find_key: {
                text: "B·∫°n t√¨m th·∫•y ch√¨a kh√≥a trong ngƒÉn b√†n c·ªßa Adrian. M·ªü c·ª≠a, b·∫°n th·∫•y t√†i li·ªáu ch·ª©ng minh Samuel l√† k·∫ª ch·ªß m∆∞u.",
                ending: "Happy Ending: B·∫Øt ƒë∆∞·ª£c Samuel, v·ª• √°n ƒë∆∞·ª£c gi·∫£i quy·∫øt."
            },
            call_police_support: {
                text: "C·∫£nh s√°t ƒë·∫øn v√† m·ªü c·ª≠a h·∫ßm, nh∆∞ng m·ªôt trong s·ªë h·ªç ph√° h·ªßy b·∫±ng ch·ª©ng quan tr·ªçng. C√≥ v·∫ª h·ªç b·ªã mua chu·ªôc.",
                ending: "Unknown Ending: B·∫±ng ch·ª©ng b·ªã ph√° h·ªßy, v·ª• √°n r∆°i v√†o b√≠ ·∫©n."
            }
        };

        let currentNode = "start";
        let timeLeft = 0;
        let timerInterval = null;

        function startTimer(limit) {
            if (timerInterval) clearInterval(timerInterval);
            timeLeft = limit;
            const timerElement = document.getElementById("timer");
            timerElement.innerText = `Th·ªùi gian c√≤n l·∫°i: ${timeLeft} gi√¢y`;
            timerInterval = setInterval(() => {
                timeLeft--;
                timerElement.innerText = `Th·ªùi gian c√≤n l·∫°i: ${timeLeft} gi√¢y`;
                if (timeLeft <= 0) {
                    clearInterval(timerInterval);
                    currentNode = "time_out";
                    displayCurrentNode();
                }
            }, 1000);
        }

        function displayCurrentNode() {
            const node = storyNodes[currentNode] || {
                text: "H·∫øt th·ªùi gian! M·ªôt s·ªë manh m·ªëi ƒë√£ bi·∫øn m·∫•t, v√† v·ª• √°n r∆°i v√†o b·∫ø t·∫Øc.",
                ending: "Bad Ending: H·∫øt th·ªùi gian, v·ª• √°n kh√¥ng ƒë∆∞·ª£c gi·∫£i quy·∫øt."
            };
            document.getElementById("story-text").innerText = node.text;
            const choicesContainer = document.getElementById("choices");
            const endingContainer = document.getElementById("ending");
            choicesContainer.innerHTML = "";
            endingContainer.innerText = "";

            if (node.timeLimit) {
                startTimer(node.timeLimit);
            } else {
                clearInterval(timerInterval);
                document.getElementById("timer").innerText = "";
            }

            if (node.choices) {
                node.choices.forEach(choice => {
                    const button = document.createElement("button");
                    button.innerText = choice.text;
                    button.className = "choice-btn";
                    button.onclick = () => {
                        clearInterval(timerInterval);
                        currentNode = choice.next;
                        displayCurrentNode();
                    };
                    choicesContainer.appendChild(button);
                });
            } else {
                clearInterval(timerInterval);
                endingContainer.innerText = node.ending;
                const restartButton = document.createElement("button");
                restartButton.innerText = "Ch∆°i l·∫°i t·ª´ ƒë·∫ßu";
                restartButton.className = "choice-btn restart-btn";
                restartButton.onclick = () => {
                    currentNode = "start";
                    displayCurrentNode();
                };
                choicesContainer.appendChild(restartButton);
            }
        }

        window.onload = () => {
            displayCurrentNode();
        };
    </script>
</body>
</html>