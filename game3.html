<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>T√¨m Ki·∫øm Kho B√°u M·∫•t T√≠ch</title>
    <style>
        body {
            font-family: 'Arial', sans-serif; /* Thay Georgia b·∫±ng Arial, h·ªó tr·ª£ ti·∫øng Vi·ªát t·ªët h∆°n */
            background-color: #1a2a1a;
            color: #e0e0c0;
            margin: 0;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }
        .container {
            max-width: 900px;
            background-color: #2a3a2a;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 0 15px rgba(0, 100, 0, 0.3);
        }
        h1 {
            text-align: center;
            color: #ffd700;
            text-shadow: 0 0 5px #ffd700;
            font-family: 'Times New Roman', serif; /* Font cho ti√™u ƒë·ªÅ */
        }
        .story-text {
            line-height: 1.6;
            margin-bottom: 20px;
            font-size: 1.1em;
        }
        .dialogue {
            background-color: #3a4a3a;
            padding: 10px;
            border-left: 4px solid #ffd700;
            margin: 10px 0;
        }
        .choices {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        .choice-btn {
            background-color: #ffd700;
            color: #1a2a1a;
            padding: 10px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1em;
            transition: background-color 0.3s;
        }
        .choice-btn:hover {
            background-color: #ccaa00;
        }
        .ending {
            font-weight: bold;
            color: #ff5555;
            margin-top: 20px;
            text-align: center;
        }
        .restart-btn {
            background-color: #55aa55;
            margin-top: 10px;
        }
        .restart-btn:hover {
            background-color: #448844;
        }
        .timer {
            color: #ff5555;
            font-weight: bold;
            margin-bottom: 10px;
            text-align: center;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üß≠ T√¨m Ki·∫øm Kho B√°u M·∫•t T√≠ch</h1>
        <div id="timer" class="timer"></div>
        <div id="story-text" class="story-text"></div>
        <div id="choices" class="choices"></div>
        <div id="ending" class="ending"></div>
    </div>

    <script>
        const storyNodes = {
            start: {
                text: "B·∫°n l√† Lena Valen, m·ªôt nh√† kh·∫£o c·ªï h·ªçc tr·∫ª, ƒë·ª©ng trong cƒÉn g√°c b·ª•i b·∫∑m c·ªßa √¥ng m√¨nh ‚Äì nh√† th√°m hi·ªÉm huy·ªÅn tho·∫°i Marcus Valen. Trong m·ªôt chi·∫øc r∆∞∆°ng c≈©, b·∫°n t√¨m th·∫•y nh·∫≠t k√Ω c·ªßa √¥ng, v·ªõi d√≤ng ch·ªØ run r·∫©y: 'Kho B√°u c·ªßa Vua Azran n·∫±m tr√™n ƒë·∫£o v√¥ danh, nh∆∞ng l·ªùi nguy·ªÅn s·∫Ω th·ª≠ th√°ch k·∫ª t√¨m ki·∫øm.' M·ªôt b·∫£n ƒë·ªì v·∫Ω tay ch·ªâ ƒë∆∞·ªùng ra bi·ªÉn. B·∫°n c·∫£m nh·∫≠n ƒë∆∞·ª£c ƒë·ªãnh m·ªánh ƒëang g·ªçi, nh∆∞ng h√†nh tr√¨nh n√†y s·∫Ω ƒë·∫ßy r·ªßi ro. B·∫°n chu·∫©n b·ªã l√™n ƒë∆∞·ªùng.",
                timeLimit: 60,
                choices: [
                    { text: "Thu√™ t√†u v√† ƒëi m·ªôt m√¨nh", next: "go_alone" },
                    { text: "Thu√™ th√™m Jasper v√† Mira", next: "hire_team" },
                    { text: "Ki·ªÉm tra nh·∫≠t k√Ω th√™m", next: "check_diary" }
                ]
            },
            check_diary: {
                text: "B·∫°n ƒë·ªçc k·ªπ nh·∫≠t k√Ω. √îng vi·∫øt: 'ƒê·∫£o Azran ·∫©n ch·ª©a l·ªùi nguy·ªÅn c·ªï. Ch·ªâ k·∫ª hi·ªÉu nghi th·ª©c m·ªõi s·ªëng s√≥t.' M·ªôt trang ghi ch√∫ v·ªÅ ba c√°nh c·ªïng: M·∫∑t Tr·ªùi, B√≥ng T·ªëi, Bi·ªÉn C·∫°n. B·∫°n ghi nh·ªõ th√¥ng tin n√†y v√† chu·∫©n b·ªã l√™n ƒë∆∞·ªùng.",
                timeLimit: 45,
                choices: [
                    { text: "Thu√™ t√†u v√† ƒëi m·ªôt m√¨nh", next: "go_alone" },
                    { text: "Thu√™ th√™m Jasper v√† Mira", next: "hire_team" }
                ]
            },
            go_alone: {
                text: "B·∫°n thu√™ m·ªôt chi·∫øc t√†u nh·ªè v√† ra kh∆°i m·ªôt m√¨nh. Gi·ªØa bi·ªÉn, m·ªôt c∆°n b√£o d·ªØ d·ªôi ·∫≠p ƒë·∫øn. S√≥ng g√†o th√©t, x√© to·∫°c m·ªôt ph·∫ßn b·∫£n ƒë·ªì. B·∫°n v·∫≠t l·ªôn v·ªõi b√°nh l√°i, cu·ªëi c√πng c·∫≠p b·∫øn ƒë·∫£o Azran, nh∆∞ng m·ªát m·ªèi v√† thi·∫øu manh m·ªëi.",
                choices: [
                    { text: "D·ª±ng tr·∫°i g·∫ßn b·ªù bi·ªÉn", next: "camp_beach" },
                    { text: "D·ª±ng tr·∫°i s√¢u trong r·ª´ng", next: "camp_forest" },
                    { text: "Kh√°m ph√° x√°c t√†u ƒë·∫Øm g·∫ßn b·ªù", next: "explore_wreck" }
                ]
            },
            hire_team: {
                text: "B·∫°n thu√™ Jasper ‚Äì m·ªôt th·ª£ m√°y vui t√≠nh nh∆∞ng h∆°i b·∫•t c·∫©n, v√† Mira ‚Äì m·ªôt nh√† sinh t·ªìn l·∫°nh l√πng, lu√¥n c·∫£nh gi√°c. C·∫£ ba l√™n t√†u, v∆∞·ª£t qua bi·ªÉn c·∫£ an to√†n nh·ªù k·ªπ nƒÉng c·ªßa Mira. Khi c·∫≠p b·∫øn ƒë·∫£o Azran, Jasper c∆∞·ªùi l·ªõn: 'Ch·ªó n√†y tr√¥ng nh∆∞ thi√™n ƒë∆∞·ªùng!' Nh∆∞ng Mira th√¨ th·∫ßm v·ªõi b·∫°n: 'T√¥i kh√¥ng tin Jasper... anh ta che gi·∫•u g√¨ ƒë√≥.'",
                choices: [
                    { text: "D·ª±ng tr·∫°i g·∫ßn b·ªù bi·ªÉn", next: "camp_beach_team" },
                    { text: "D·ª±ng tr·∫°i s√¢u trong r·ª´ng", next: "camp_forest_team" },
                    { text: "Quan s√°t Jasper", next: "watch_jasper" }
                ]
            },
            watch_jasper: {
                text: "B·∫°n ƒë·ªÉ √Ω Jasper. Anh ta th∆∞·ªùng xuy√™n ki·ªÉm tra m·ªôt m·∫©u gi·∫•y trong t√∫i, tr√°nh √°nh m·∫Øt c·ªßa b·∫°n v√† Mira. Khi b·∫°n h·ªèi, anh ta c∆∞·ªùi g∆∞·ª£ng: 'Ch·ªâ l√†... danh s√°ch ƒë·ªì th√¥i!' B·∫°n nghi ng·ªù, nh∆∞ng ch∆∞a c√≥ b·∫±ng ch·ª©ng.",
                choices: [
                    { text: "D·ª±ng tr·∫°i g·∫ßn b·ªù bi·ªÉn", next: "camp_beach_team" },
                    { text: "D·ª±ng tr·∫°i s√¢u trong r·ª´ng", next: "camp_forest_team" },
                    { text: "ƒê·ªëi ch·∫•t v·ªõi Jasper", next: "confront_jasper_early" }
                ]
            },
            confront_jasper_early: {
                text: "B·∫°n √©p Jasper ƒë∆∞a m·∫©u gi·∫•y. H√≥a ra l√† m·ªôt b·∫£n sao b·∫£n ƒë·ªì c·ªßa b·∫°n, nh∆∞ng c√≥ th√™m k√Ω hi·ªáu l·∫°. Jasper th√∫ nh·∫≠n: 'T√¥i... ch·ªâ mu·ªën ch·∫Øc ch·∫Øn ch√∫ng ta t√¨m ƒë∆∞·ª£c kho b√°u!' Mira g·∫ßm g·ª´: 'H·∫Øn kh√¥ng ƒë√°ng tin.' B·∫°n ph·∫£i quy·∫øt ƒë·ªãnh ngay.",
                timeLimit: 30,
                choices: [
                    { text: "Gi·ªØ Jasper trong nh√≥m", next: "camp_forest_team" },
                    { text: "ƒêu·ªïi Jasper ƒëi", next: "camp_beach" }
                ]
            },
            explore_wreck: {
                text: "B·∫°n l·∫∑n xu·ªëng x√°c t√†u ƒë·∫Øm g·∫ßn b·ªù. B√™n trong, b·∫°n t√¨m th·∫•y m·ªôt m·∫£nh ng·ªçc kh·∫Øc k√Ω hi·ªáu gi·ªëng trong nh·∫≠t k√Ω c·ªßa √¥ng. ƒê·ªôt nhi√™n, m·ªôt d√≤ng n∆∞·ªõc xo√°y k√©o b·∫°n xu·ªëng. B·∫°n tho√°t ra ƒë∆∞·ª£c, nh∆∞ng c·∫£m gi√°c c√≥ g√¨ ƒë√≥ ƒëang theo d√µi t·ª´ d∆∞·ªõi n∆∞·ªõc.",
                choices: [
                    { text: "D·ª±ng tr·∫°i g·∫ßn b·ªù bi·ªÉn", next: "camp_beach" },
                    { text: "D·ª±ng tr·∫°i s√¢u trong r·ª´ng", next: "camp_forest" }
                ]
            },
            camp_beach: {
                text: "B·∫°n d·ª±ng tr·∫°i g·∫ßn b·ªù bi·ªÉn, n∆°i s√≥ng v·ªó nh·∫π v√† gi√≥ m√°t l√†nh. Nh∆∞ng ƒë√™m ƒë·∫øn, m·ªôt nh√≥m k·∫ª l·∫° m·∫∑c √°o cho√†ng t·∫•n c√¥ng tr·∫°i. B·∫°n nghe ti·∫øng h√©t: 'Kh√¥ng ƒë·ªÉ k·∫ª x√¢m nh·∫≠p ch·∫°m v√†o kho b√°u!' B·∫°n ch·ªâ c√≥ v√†i gi√¢y ƒë·ªÉ ph·∫£n ·ª©ng.",
                timeLimit: 30,
                choices: [
                    { text: "Ch·ªëng tr·∫£", next: "fight_strangers" },
                    { text: "Ch·∫°y v√†o r·ª´ng", next: "camp_forest" },
                    { text: "Tr·ªën d∆∞·ªõi x√°c t√†u ƒë·∫Øm", next: "hide_wreck" }
                ]
            },
            camp_beach_team: {
                text: "C·∫£ nh√≥m d·ª±ng tr·∫°i g·∫ßn b·ªù bi·ªÉn. Jasper k·ªÉ chuy·ªán c∆∞·ªùi, nh∆∞ng Mira v·∫´n c·∫£nh gi√°c. ƒê√™m ƒë·∫øn, k·∫ª l·∫° t·∫•n c√¥ng. Jasper h√©t: 'Ch√∫ng mu·ªën g√¨ ·ªü ch√∫ng ta?' Mira r√∫t dao: 'Lena, quy·∫øt ƒë·ªãnh ƒëi!'",
                timeLimit: 30,
                choices: [
                    { text: "Ch·ªëng tr·∫£", next: "fight_strangers_team" },
                    { text: "Ch·∫°y v√†o r·ª´ng", next: "camp_forest_team" },
                    { text: "Tr·ªën d∆∞·ªõi x√°c t√†u ƒë·∫Øm", next: "hide_wreck_team" }
                ]
            },
            fight_strangers: {
                text: "B·∫°n ch·ªëng tr·∫£, nh∆∞ng k·∫ª l·∫° qu√° ƒë√¥ng. M·ªôt nh√°t dao xuy√™n qua vai b·∫°n, v√† b√≥ng t·ªëi nu·ªët ch·ª≠ng m·ªçi th·ª©.",
                ending: "Horror Ending: B·ªã k·∫ª l·∫° ti√™u di·ªát, kho b√°u m√£i l√† b√≠ ·∫©n."
            },
            fight_strangers_team: {
                text: "C·∫£ nh√≥m ch·ªëng tr·∫£. Mira h·∫° g·ª•c hai k·∫ª, nh∆∞ng Jasper b·ªã th∆∞∆°ng n·∫∑ng. K·∫ª l·∫° r√∫t lui, ƒë·ªÉ l·∫°i m·ªôt m·∫£nh ng·ªçc kh·∫Øc k√Ω hi·ªáu. Mira th·ªü h·ªïn h·ªÉn: 'Ch√∫ng l√† ai? Sao bi·∫øt ch√∫ng ta ·ªü ƒë√¢y?'",
                choices: [
                    { text: "ChƒÉm s√≥c Jasper", next: "tend_jasper" },
                    { text: "ƒêi v√†o r·ª´ng t√¨m t√†n t√≠ch", next: "camp_forest_team" }
                ]
            },
            hide_wreck: {
                text: "B·∫°n tr·ªën d∆∞·ªõi x√°c t√†u ƒë·∫Øm, n√≠n th·ªü khi k·∫ª l·∫° l·ª•c so√°t b·ªù bi·ªÉn. Khi ch√∫ng r·ªùi ƒëi, b·∫°n t√¨m th·∫•y m·ªôt l·ªëi v√†o b√≠ m·∫≠t d·∫´n ƒë·∫øn t√†n t√≠ch c·ªï.",
                choices: [
                    { text: "ƒêi v√†o t√†n t√≠ch", next: "ancient_ruins" }
                ]
            },
            hide_wreck_team: {
                text: "C·∫£ nh√≥m tr·ªën d∆∞·ªõi x√°c t√†u. Jasper ho·∫£ng lo·∫°n, su√Ωt l√†m l·ªô v·ªã tr√≠, nh∆∞ng Mira b·ªãt mi·ªáng anh ta. K·∫ª l·∫° r·ªùi ƒëi, v√† b·∫°n ph√°t hi·ªán m·ªôt l·ªëi v√†o t√†n t√≠ch c·ªï.",
                choices: [
                    { text: "ƒêi v√†o t√†n t√≠ch", next: "ancient_ruins_team" }
                ]
            },
            tend_jasper: {
                text: "B·∫°n chƒÉm s√≥c Jasper, bƒÉng b√≥ v·∫øt th∆∞∆°ng. Anh ta th√¨ th·∫ßm: 'C·∫£m ∆°n, Lena. T√¥i... t√¥i s·∫Ω kh√¥ng l√†m b·∫°n th·∫•t v·ªçng.' Mira v·∫´n nghi ng·ªù, nh∆∞ng c·∫£ nh√≥m quy·∫øt ƒë·ªãnh ƒëi t√¨m t√†n t√≠ch.",
                choices: [
                    { text: "ƒêi v√†o r·ª´ng", next: "camp_forest_team" }
                ]
            },
            camp_forest: {
                text: "B·∫°n d·ª±ng tr·∫°i s√¢u trong r·ª´ng, n∆°i c√¢y c·ªëi r·∫≠m r·∫°p v√† ti·∫øng c√¥n tr√πng r√¢m ran. ƒê√™m ƒë√≥, b·∫°n ph√°t hi·ªán m·ªôt t√†n t√≠ch c·ªï v·ªõi b·∫£n kh·∫Øc: 'Ba c√°nh c·ªïng d·∫´n ƒë·∫øn kho b√°u, nh∆∞ng ch·ªâ m·ªôt con ƒë∆∞·ªùng l√† ch√¢n l√Ω.' M·ªôt c∆°n l≈© b·∫•t ng·ªù ·∫≠p ƒë·∫øn, b·∫°n ph·∫£i h√†nh ƒë·ªông nhanh!",
                timeLimit: 45,
                choices: [
                    { text: "Ch·∫°y l√™n cao", next: "ancient_ruins" },
                    { text: "Tr·ªën v√†o t√†n t√≠ch", next: "enter_ruins_solo" },
                    { text: "T√¨m n∆°i tr√∫ ·∫©n t·ª± nhi√™n", next: "natural_shelter" }
                ]
            },
            camp_forest_team: {
                text: "C·∫£ nh√≥m d·ª±ng tr·∫°i trong r·ª´ng. Mira ph√°t hi·ªán m·ªôt t√†n t√≠ch c·ªï v·ªõi b·∫£n kh·∫Øc: 'Ba c√°nh c·ªïng: M·∫∑t Tr·ªùi, B√≥ng T·ªëi, Bi·ªÉn C·∫°n. Ch·ªçn sai, v√† l·ªùi nguy·ªÅn s·∫Ω nu·ªët ch·ª≠ng.' Jasper lo l·∫Øng: 'Nghe nh∆∞ c√°i b·∫´y ch·∫øt ti·ªát!' M·ªôt c∆°n l≈© ·∫≠p ƒë·∫øn, bu·ªôc nh√≥m ph·∫£i h√†nh ƒë·ªông.",
                timeLimit: 45,
                choices: [
                    { text: "Ch·∫°y l√™n cao", next: "ancient_ruins_team" },
                    { text: "Tr·ªën v√†o t√†n t√≠ch", next: "enter_ruins_team" },
                    { text: "T√¨m n∆°i tr√∫ ·∫©n t·ª± nhi√™n", next: "natural_shelter_team" }
                ]
            },
            natural_shelter: {
                text: "B·∫°n t√¨m m·ªôt hang ƒë·ªông ƒë·ªÉ tr√∫ l≈©, nh∆∞ng b√™n trong ƒë·∫ßy r·∫Øn ƒë·ªôc. M·ªôt con c·∫Øn b·∫°n tr∆∞·ªõc khi b·∫°n k·ªãp ch·∫°y tho√°t.",
                ending: "Horror Ending: Ch·∫øt v√¨ n·ªçc ƒë·ªôc, kho b√°u m√£i l√† gi·∫•c m∆°."
            },
            natural_shelter_team: {
                text: "Nh√≥m t√¨m m·ªôt hang ƒë·ªông, nh∆∞ng Mira ph√°t hi·ªán r·∫Øn ƒë·ªôc. Jasper ho·∫£ng lo·∫°n, l√†m s·∫≠p l·ªëi v√†o. C·∫£ nh√≥m b·ªã m·∫Øc k·∫πt, v√† b√≥ng t·ªëi nu·ªët ch·ª≠ng b·∫°n.",
                ending: "Horror Ending: B·ªã m·∫Øc k·∫πt trong hang, kh√¥ng ai s·ªëng s√≥t."
            },
            enter_ruins_solo: {
                text: "B·∫°n tr·ªën v√†o t√†n t√≠ch, tr√°nh ƒë∆∞·ª£c l≈©. Tr∆∞·ªõc m·∫∑t l√† ba c√°nh c·ªïng ƒë√° kh·ªïng l·ªì, m·ªói c√°nh kh·∫Øc bi·ªÉu t∆∞·ª£ng: M·∫∑t Tr·ªùi r·ª±c r·ª°, B√≥ng T·ªëi √¢m u, Bi·ªÉn C·∫°n l·∫•p l√°nh. Nh·∫≠t k√Ω c·ªßa √¥ng vang v·ªçng trong ƒë·∫ßu b·∫°n: 'Ch·ªçn c·∫©n th·∫≠n, Lena.'",
                choices: [
                    { text: "V√†o c·ªïng M·∫∑t Tr·ªùi", next: "sun_gate" },
                    { text: "V√†o c·ªïng B√≥ng T·ªëi", next: "shadow_gate" },
                    { text: "V√†o c·ªïng Bi·ªÉn C·∫°n", next: "tide_gate" },
                    { text: "Ki·ªÉm tra t√†n t√≠ch th√™m", next: "explore_ruins_solo" }
                ]
            },
            explore_ruins_solo: {
                text: "B·∫°n kh√°m ph√° t√†n t√≠ch v√† t√¨m th·∫•y m·ªôt ng√¥i ƒë·ªÅn nh·ªè v·ªõi b·ª©c t∆∞·ª£ng Vua Azran. M·ªôt gi·ªçng n√≥i vang l√™n trong ƒë·∫ßu: 'K·∫ª t√¨m ki·∫øm, ch·ª©ng minh l√≤ng trung th·ª±c.' M·ªôt c√¢u ƒë·ªë hi·ªán l√™n tr√™n t∆∞·ªùng.",
                choices: [
                    { text: "Gi·∫£i c√¢u ƒë·ªë", next: "solve_temple_puzzle" },
                    { text: "B·ªè qua v√† ch·ªçn c·ªïng", next: "enter_ruins_solo" }
                ]
            },
            solve_temple_puzzle: {
                text: "B·∫°n gi·∫£i ƒë√∫ng c√¢u ƒë·ªë, v√† b·ª©c t∆∞·ª£ng m·ªü ra m·ªôt l·ªëi ƒëi b√≠ m·∫≠t. B√™n trong, b·∫°n t√¨m th·∫•y m·ªôt m·∫£nh ng·ªçc d·∫´n ƒë∆∞·ªùng, gi√∫p b·∫°n an to√†n qua c√°c c√°nh c·ªïng.",
                choices: [
                    { text: "V√†o c·ªïng M·∫∑t Tr·ªùi", next: "sun_gate_safe" },
                    { text: "V√†o c·ªïng Bi·ªÉn C·∫°n", next: "tide_gate_safe" }
                ]
            },
            ancient_ruins: {
                text: "B·∫°n ch·∫°y l√™n cao, ƒë·∫øn m·ªôt t√†n t√≠ch c·ªï v·ªõi ba c√°nh c·ªïng ƒë√°: M·∫∑t Tr·ªùi ch√≥i chang, B√≥ng T·ªëi l·∫°nh l·∫Ωo, Bi·ªÉn C·∫°n lung linh. B·∫°n c·∫£m nh·∫≠n s·ª©c m·∫°nh k·ª≥ l·∫° t·ª´ ch√∫ng, nh∆∞ th·ªÉ ch√∫ng ƒëang th·ª≠ th√°ch b·∫°n.",
                choices: [
                    { text: "V√†o c·ªïng M·∫∑t Tr·ªùi", next: "sun_gate" },
                    { text: "V√†o c·ªïng B√≥ng T·ªëi", next: "shadow_gate" },
                    { text: "V√†o c·ªïng Bi·ªÉn C·∫°n", next: "tide_gate" }
                ]
            },
            ancient_ruins_team: {
                text: "Nh√≥m ch·∫°y l√™n cao, ƒë·∫øn m·ªôt t√†n t√≠ch c·ªï. Ba c√°nh c·ªïng ƒë√° hi·ªán ra: M·∫∑t Tr·ªùi, B√≥ng T·ªëi, Bi·ªÉn C·∫°n. Jasper n√≥i: 'C·ªïng n√†o c≈©ng nguy hi·ªÉm, ch·ªçn ƒëi!' Mira th√¨ th·∫ßm: 'T√¥i c·∫£m th·∫•y... c√≥ g√¨ ƒë√≥ ƒëang theo d√µi ch√∫ng ta.'",
                choices: [
                    { text: "V√†o c·ªïng M·∫∑t Tr·ªùi", next: "sun_gate_team" },
                    { text: "V√†o c·ªïng B√≥ng T·ªëi", next: "shadow_gate_team" },
                    { text: "V√†o c·ªïng Bi·ªÉn C·∫°n", next: "tide_gate_team" },
                    { text: "Ki·ªÉm tra t√†n t√≠ch th√™m", next: "explore_ruins_team" }
                ]
            },
            explore_ruins_team: {
                text: "Nh√≥m kh√°m ph√° t√†n t√≠ch v√† t√¨m th·∫•y m·ªôt ng√¥i ƒë·ªÅn nh·ªè. M·ªôt gi·ªçng n√≥i vang l√™n: 'Ch·ª©ng minh l√≤ng trung th·ª±c.' Jasper c∆∞·ªùi kh·∫©y: 'L·∫°i tr√≤ ƒë·ªë vui √†?' Mira c·∫£nh b√°o: 'ƒê·ª´ng coi th∆∞·ªùng.' B·∫°n ph·∫£i gi·∫£i c√¢u ƒë·ªë tr√™n t∆∞·ªùng.",
                choices: [
                    { text: "Gi·∫£i c√¢u ƒë·ªë", next: "solve_temple_puzzle_team" },
                    { text: "B·ªè qua v√† ch·ªçn c·ªïng", next: "ancient_ruins_team" }
                ]
            },
            solve_temple_puzzle_team: {
                text: "B·∫°n v√† Mira gi·∫£i ƒë√∫ng c√¢u ƒë·ªë. Jasper mi·ªÖn c∆∞·ª°ng gi√∫p. B·ª©c t∆∞·ª£ng m·ªü l·ªëi ƒëi b√≠ m·∫≠t, v√† b·∫°n t√¨m th·∫•y m·∫£nh ng·ªçc d·∫´n ƒë∆∞·ªùng. Mira n√≥i: 'C√°i n√†y s·∫Ω gi√∫p ch√∫ng ta an to√†n.'",
                choices: [
                    { text: "V√†o c·ªïng M·∫∑t Tr·ªùi", next: "sun_gate_safe_team" },
                    { text: "V√†o c·ªïng Bi·ªÉn C·∫°n", next: "tide_gate_safe_team" }
                ]
            },
            sun_gate: {
                text: "C·ªïng M·∫∑t Tr·ªùi d·∫´n b·∫°n v√†o m·ªôt m√™ cung √°nh s√°ng ch√≥i l√≤a. Nh·ªØng tia s√°ng ph·∫£n chi·∫øu t·∫°o th√†nh b·∫´y ch·∫øt ng∆∞·ªùi. B·∫°n nghe ti·∫øng k√™u r√≠t t·ª´ xa ‚Äì c√≥ g√¨ ƒë√≥ ƒëang ƒë·∫øn g·∫ßn!",
                timeLimit: 45,
                choices: [
                    { text: "Ch·∫°y qua m√™ cung", next: "run_maze" },
                    { text: "T√¨m l·ªëi t·∫Øt", next: "find_shortcut" },
                    { text: "S·ª≠ d·ª•ng g∆∞∆°ng ƒë·ªÉ ph·∫£n chi·∫øu √°nh s√°ng", next: "use_mirror" }
                ]
            },
            sun_gate_team: {
                text: "Nh√≥m b∆∞·ªõc v√†o m√™ cung √°nh s√°ng. Jasper ho·∫£ng lo·∫°n: 'M·∫Øt t√¥i kh√¥ng ch·ªãu n·ªïi!' Mira b√¨nh tƒ©nh: 'T√¨m c√°ch ph·∫£n chi·∫øu √°nh s√°ng, Lena!' Ti·∫øng k√™u r√≠t vang l√™n, ng√†y c√†ng g·∫ßn.",
                timeLimit: 45,
                choices: [
                    { text: "Ch·∫°y qua m√™ cung", next: "run_maze_team" },
                    { text: "T√¨m l·ªëi t·∫Øt", next: "find_shortcut_team" },
                    { text: "S·ª≠ d·ª•ng g∆∞∆°ng ƒë·ªÉ ph·∫£n chi·∫øu √°nh s√°ng", next: "use_mirror_team" }
                ]
            },
            sun_gate_safe: {
                text: "M·∫£nh ng·ªçc d·∫´n b·∫°n qua m√™ cung √°nh s√°ng an to√†n. B·∫°n ƒë·∫øn m·ªôt cƒÉn ph√≤ng v·ªõi l·ªëi v√†o kho b√°u, nh∆∞ng m·ªôt b√≥ng ng∆∞·ªùi xu·∫•t hi·ªán ‚Äì Jasper, v·ªõi n·ª• c∆∞·ªùi nguy hi·ªÉm.",
                choices: [
                    { text: "ƒê·ªëi ƒë·∫ßu v·ªõi Jasper", next: "confront_betrayer_solo" },
                    { text: "Thuy·∫øt ph·ª•c Jasper h·ª£p t√°c", next: "persuade_betrayer_solo" }
                ]
            },
            sun_gate_safe_team: {
                text: "M·∫£nh ng·ªçc gi√∫p nh√≥m v∆∞·ª£t qua m√™ cung. Nh∆∞ng Jasper ƒë·ªôt nhi√™n chƒ©a dao v√†o b·∫°n: 'Kho b√°u l√† c·ªßa t√¥i, Lena!' Mira g·∫ßm g·ª´: 'H·∫Øn l√† h·∫≠u du·ªá c·ªßa k·∫ª ph·∫£n b·ªôi Azran!'",
                choices: [
                    { text: "ƒê·ªëi ƒë·∫ßu v·ªõi Jasper", next: "confront_betrayer" },
                    { text: "Thuy·∫øt ph·ª•c Jasper h·ª£p t√°c", next: "persuade_betrayer" },
                    { text: "Ch·∫°y t√¨m l·ªëi kh√°c", next: "escape_betrayer" }
                ]
            },
            run_maze: {
                text: "B·∫°n ch·∫°y qua m√™ cung, nh∆∞ng √°nh s√°ng ch√≥i l√†m b·∫°n m·∫•t ph∆∞∆°ng h∆∞·ªõng. M·ªôt tia s√°ng b·∫Øn ra, thi√™u r·ª•i b·∫°n trong ch·ªõp m·∫Øt.",
                ending: "Horror Ending: B·ªã m√™ cung √°nh s√°ng thi√™u r·ª•i."
            },
            run_maze_team: {
                text: "Nh√≥m ch·∫°y qua m√™ cung, nh∆∞ng √°nh s√°ng l√†m Jasper ng√£. M·ªôt tia s√°ng thi√™u r·ª•i anh ta, v√† b·∫°n v·ªõi Mira kh√¥ng th·ªÉ c·ª©u k·ªãp.",
                ending: "Horror Ending: Jasper ch·∫øt, nh√≥m th·∫•t b·∫°i trong m√™ cung."
            },
            find_shortcut: {
                text: "B·∫°n t√¨m l·ªëi t·∫Øt, nh∆∞ng n√≥ d·∫´n ƒë·∫øn m·ªôt th·∫ø gi·ªõi ·∫£o ·∫£nh, n∆°i b·∫°n th·∫•y √¥ng m√¨nh: 'Lena, quay l·∫°i, ƒë√¢y kh√¥ng ph·∫£i ƒë∆∞·ªùng!' B·∫°n m·∫•t ph∆∞∆°ng h∆∞·ªõng v√† l·∫°c v√†o kh√¥ng gian l·∫°.",
                ending: "Unknown Ending: L·∫°c trong th·∫ø gi·ªõi ·∫£o ·∫£nh, kh√¥ng bao gi·ªù tr·ªü v·ªÅ."
            },
            find_shortcut_team: {
                text: "Nh√≥m t√¨m l·ªëi t·∫Øt, nh∆∞ng r∆°i v√†o th·∫ø gi·ªõi ·∫£o ·∫£nh. Jasper b·ªè ch·∫°y, v√† b·∫°n v·ªõi Mira l·∫°c v√†o m·ªôt chi·ªÅu kh√¥ng gian kh√°c, kh√¥ng l·ªëi tho√°t.",
                ending: "Unknown Ending: M·∫Øc k·∫πt trong chi·ªÅu kh√¥ng gian ·∫£o ·∫£nh."
            },
            use_mirror: {
                text: "B·∫°n d√πng m·∫£nh k√≠nh t·ª´ t√∫i ƒë·ªÉ ph·∫£n chi·∫øu √°nh s√°ng, v√¥ hi·ªáu h√≥a b·∫´y. M√™ cung m·ªü ra l·ªëi v√†o kho b√°u, nh∆∞ng m·ªôt b√≥ng ng∆∞·ªùi xu·∫•t hi·ªán ‚Äì k·∫ª ph·∫£n b·ªôi.",
                choices: [
                    { text: "ƒê·ªëi ƒë·∫ßu", next: "confront_betrayer_solo" },
                    { text: "Thuy·∫øt ph·ª•c h·ª£p t√°c", next: "persuade_betrayer_solo" }
                ]
            },
            use_mirror_team: {
                text: "Mira d√πng dao ph·∫£n chi·∫øu √°nh s√°ng, v√¥ hi·ªáu h√≥a b·∫´y. Nh∆∞ng Jasper chƒ©a dao v√†o b·∫°n: 'Kho b√°u l√† c·ªßa t√¥i!' Mira h√©t: 'H·∫Øn ph·∫£n b·ªôi ch√∫ng ta!'",
                choices: [
                    { text: "ƒê·ªëi ƒë·∫ßu v·ªõi Jasper", next: "confront_betrayer" },
                    { text: "Thuy·∫øt ph·ª•c Jasper h·ª£p t√°c", next: "persuade_betrayer" },
                    { text: "Ch·∫°y t√¨m l·ªëi kh√°c", next: "escape_betrayer" }
                ]
            },
            shadow_gate: {
                text: "C·ªïng B√≥ng T·ªëi d·∫´n v√†o m·ªôt hang ƒë·ªông ng·∫ßm, n∆°i b√≥ng t·ªëi nu·ªët ch·ª≠ng √°nh s√°ng. Ti·∫øng g·∫ßm r√∫ vang l√™n ‚Äì m·ªôt ƒë√†n qu√°i v·∫≠t ƒëang sƒÉn b·∫°n. B·∫°n ch·ªâ c√≥ v√†i gi√¢y ƒë·ªÉ h√†nh ƒë·ªông!",
                timeLimit: 30,
                choices: [
                    { text: "Ch·∫°y tho√°t", next: "run_from_monsters" },
                    { text: "·∫®n n·∫•p", next: "hide_from_monsters" },
                    { text: "D√πng ph√°o s√°ng", next: "use_flare" }
                ]
            },
            shadow_gate_team: {
                text: "Nh√≥m b∆∞·ªõc v√†o hang ƒë·ªông t·ªëi tƒÉm. Jasper run r·∫©y: 'C√°i qu√°i g√¨ th·∫ø n√†y?' Mira th√¨ th·∫ßm: 'Ch√∫ng ƒëang ƒë·∫øn!' Ti·∫øng g·∫ßm c·ªßa qu√°i v·∫≠t vang l√™n, g·∫ßn h∆°n bao gi·ªù h·∫øt.",
                timeLimit: 30,
                choices: [
                    { text: "Ch·∫°y tho√°t", next: "run_from_monsters_team" },
                    { text: "·∫®n n·∫•p", next: "hide_from_monsters_team" },
                    { text: "D√πng ph√°o s√°ng", next: "use_flare_team" }
                ]
            },
            run_from_monsters: {
                text: "B·∫°n ch·∫°y, nh∆∞ng qu√°i v·∫≠t ƒëu·ªïi k·ªãp. Ch√∫ng x√© to·∫°c b·∫°n trong b√≥ng t·ªëi, v√† ti·∫øng h√©t c·ªßa b·∫°n vang v·ªçng m√£i m√£i.",
                ending: "Horror Ending: B·ªã qu√°i v·∫≠t ng·∫ßm nu·ªët ch·ª≠ng."
            },
            run_from_monsters_team: {
                text: "Nh√≥m ch·∫°y, nh∆∞ng Jasper v·∫•p ng√£. Qu√°i v·∫≠t k√©o anh ta v√†o b√≥ng t·ªëi, v√† b·∫°n v·ªõi Mira kh√¥ng th·ªÉ c·ª©u. Mira kh√≥c: 'Ch√∫ng ta kh√¥ng n√™n v√†o ƒë√¢y!'",
                ending: "Horror Ending: Jasper ch·∫øt, nh√≥m th·∫•t b·∫°i trong b√≥ng t·ªëi."
            },
            hide_from_monsters: {
                text: "B·∫°n ·∫©n n·∫•p sau t·∫£ng ƒë√°, nh∆∞ng h∆°i th·ªü c·ªßa qu√°i v·∫≠t ph·∫£ v√†o g√°y b·∫°n. M·ªôt m√≥ng vu·ªët xuy√™n qua ng·ª±c b·∫°n, v√† m·ªçi th·ª© ch√¨m v√†o b√≥ng t·ªëi.",
                ending: "Horror Ending: B·ªã qu√°i v·∫≠t ph√°t hi·ªán v√† ti√™u di·ªát."
            },
            hide_from_monsters_team: {
                text: "Nh√≥m ·∫©n n·∫•p, nh∆∞ng Jasper ho·∫£ng lo·∫°n l√†m l·ªô v·ªã tr√≠. Qu√°i v·∫≠t t·∫•n c√¥ng, v√† c·∫£ nh√≥m b·ªã nu·ªët ch·ª≠ng trong b√≥ng t·ªëi.",
                ending: "Horror Ending: C·∫£ nh√≥m b·ªã qu√°i v·∫≠t ti√™u di·ªát."
            },
            use_flare: {
                text: "B·∫°n b·∫Øn ph√°o s√°ng, √°nh s√°ng l√†m qu√°i v·∫≠t r√∫t lui. B·∫°n t√¨m th·∫•y l·ªëi ra, d·∫´n ƒë·∫øn kho b√°u, nh∆∞ng m·ªôt b√≥ng ng∆∞·ªùi ch·∫∑n ƒë∆∞·ªùng ‚Äì k·∫ª ph·∫£n b·ªôi.",
                choices: [
                    { text: "ƒê·ªëi ƒë·∫ßu", next: "confront_betrayer_solo" },
                    { text: "Thuy·∫øt ph·ª•c h·ª£p t√°c", next: "persuade_betrayer_solo" }
                ]
            },
            use_flare_team: {
                text: "Mira b·∫Øn ph√°o s√°ng, xua ƒëu·ªïi qu√°i v·∫≠t. Nh√≥m t√¨m th·∫•y l·ªëi ra, nh∆∞ng Jasper chƒ©a dao v√†o b·∫°n: 'Kho b√°u thu·ªôc v·ªÅ t√¥i, Lena!'",
                choices: [
                    { text: "ƒê·ªëi ƒë·∫ßu v·ªõi Jasper", next: "confront_betrayer" },
                    { text: "Thuy·∫øt ph·ª•c Jasper h·ª£p t√°c", next: "persuade_betrayer" },
                    { text: "Ch·∫°y t√¨m l·ªëi kh√°c", next: "escape_betrayer" }
                ]
            },
            tide_gate: {
                text: "C·ªïng Bi·ªÉn C·∫°n ƒë∆∞a b·∫°n v√†o m·ªôt th·∫ø gi·ªõi ·∫£o ·∫£nh, n∆°i bi·ªÉn c·∫£ kh√¥ c·∫°n v√† nh·ªØng b√≥ng ma tr√¥i n·ªïi. M·ªôt gi·ªçng n√≥i vang l√™n: 'ƒê·ªëi m·∫∑t v·ªõi n·ªói s·ª£ c·ªßa ng∆∞∆°i.' B·∫°n th·∫•y h√¨nh ·∫£nh √¥ng m√¨nh, nh∆∞ng √¥ng ƒëang kh√≥c.",
                choices: [
                    { text: "ƒê·ªëi m·∫∑t v·ªõi ·∫£o ·∫£nh", next: "face_illusion" },
                    { text: "Ch·∫°y kh·ªèi ·∫£o ·∫£nh", next: "run_from_illusion" },
                    { text: "T√¨m ki·∫øm manh m·ªëi", next: "search_illusion" }
                ]
            },
            tide_gate_team: {
                text: "Nh√≥m b∆∞·ªõc v√†o th·∫ø gi·ªõi ·∫£o ·∫£nh. Jasper ho·∫£ng lo·∫°n: 'ƒê√¢y l√† ma qu·ª∑ g√¨ v·∫≠y?' Mira n·∫Øm tay b·∫°n: 'Lena, ƒë·ª´ng ƒë·ªÉ n√≥ ƒë√°nh l·ª´a!' M·ªôt gi·ªçng n√≥i vang l√™n: 'ƒê·ªëi m·∫∑t v·ªõi n·ªói s·ª£.' H√¨nh ·∫£nh √¥ng b·∫°n hi·ªán ra, kh√≥c l√≥c.",
                choices: [
                    { text: "ƒê·ªëi m·∫∑t v·ªõi ·∫£o ·∫£nh", next: "face_illusion_team" },
                    { text: "Ch·∫°y kh·ªèi ·∫£o ·∫£nh", next: "run_from_illusion_team" },
                    { text: "T√¨m ki·∫øm manh m·ªëi", next: "search_illusion_team" }
                ]
            },
            tide_gate_safe: {
                text: "M·∫£nh ng·ªçc d·∫´n b·∫°n qua th·∫ø gi·ªõi ·∫£o ·∫£nh an to√†n. B·∫°n ƒë·∫øn ph√≤ng kho b√°u, nh∆∞ng m·ªôt b√≥ng ng∆∞·ªùi ch·∫∑n ƒë∆∞·ªùng ‚Äì Jasper, v·ªõi √°nh m·∫Øt tham lam.",
                choices: [
                    { text: "ƒê·ªëi ƒë·∫ßu v·ªõi Jasper", next: "confront_betrayer_solo" },
                    { text: "Thuy·∫øt ph·ª•c Jasper h·ª£p t√°c", next: "persuade_betrayer_solo" }
                ]
            },
            tide_gate_safe_team: {
                text: "M·∫£nh ng·ªçc gi√∫p nh√≥m v∆∞·ª£t qua ·∫£o ·∫£nh. Nh∆∞ng Jasper chƒ©a dao v√†o b·∫°n: 'T√¥i l√† h·∫≠u du·ªá c·ªßa k·∫ª ph·∫£n b·ªôi Azran, kho b√°u l√† c·ªßa t√¥i!' Mira s·∫µn s√†ng chi·∫øn ƒë·∫•u.",
                choices: [
                    { text: "ƒê·ªëi ƒë·∫ßu v·ªõi Jasper", next: "confront_betrayer" },
                    { text: "Thuy·∫øt ph·ª•c Jasper h·ª£p t√°c", next: "persuade_betrayer" },
                    { text: "Ch·∫°y t√¨m l·ªëi kh√°c", next: "escape_betrayer" }
                ]
            },
            face_illusion: {
                text: "B·∫°n ƒë·ªëi m·∫∑t v·ªõi ·∫£o ·∫£nh, v∆∞·ª£t qua n·ªói s·ª£. L·ªëi ra m·ªü ra, d·∫´n ƒë·∫øn kho b√°u. Nh∆∞ng m·ªôt b√≥ng ng∆∞·ªùi ch·∫∑n ƒë∆∞·ªùng ‚Äì k·∫ª ph·∫£n b·ªôi.",
                choices: [
                    { text: "ƒê·ªëi ƒë·∫ßu", next: "confront_betrayer_solo" },
                    { text: "Thuy·∫øt ph·ª•c h·ª£p t√°c", next: "persuade_betrayer_solo" }
                ]
            },
            face_illusion_team: {
                text: "Nh√≥m ƒë·ªëi m·∫∑t v·ªõi ·∫£o ·∫£nh. Mira v∆∞·ª£t qua, nh∆∞ng Jasper s·ª•p ƒë·ªï, ti·∫øt l·ªô h·∫Øn l√† h·∫≠u du·ªá k·∫ª ph·∫£n b·ªôi. H·∫Øn chƒ©a dao v√†o b·∫°n: 'Kho b√°u l√† c·ªßa t√¥i!'",
                choices: [
                    { text: "ƒê·ªëi ƒë·∫ßu v·ªõi Jasper", next: "confront_betrayer" },
                    { text: "Thuy·∫øt ph·ª•c Jasper h·ª£p t√°c", next: "persuade_betrayer" },
                    { text: "Ch·∫°y t√¨m l·ªëi kh√°c", next: "escape_betrayer" }
                ]
            },
            run_from_illusion: {
                text: "B·∫°n ch·∫°y kh·ªèi ·∫£o ·∫£nh, nh∆∞ng r∆°i v√†o m·ªôt chi·ªÅu kh√¥ng gian kh√°c. Bi·ªÉn c·∫£ nu·ªët ch·ª≠ng b·∫°n, v√† b·∫°n l·∫°c m√£i m√£i trong h∆∞ v√¥.",
                ending: "Unknown Ending: M·∫Øc k·∫πt trong chi·ªÅu kh√¥ng gian ·∫£o ·∫£nh."
            },
            run_from_illusion_team: {
                text: "Nh√≥m ch·∫°y, nh∆∞ng r∆°i v√†o chi·ªÅu kh√¥ng gian kh√°c. Jasper b·ªè r∆°i b·∫°n v√† Mira, v√† c·∫£ hai l·∫°c trong h∆∞ v√¥ vƒ©nh vi·ªÖn.",
                ending: "Unknown Ending: C·∫£ nh√≥m m·∫Øc k·∫πt trong h∆∞ v√¥."
            },
            search_illusion: {
                text: "B·∫°n t√¨m ki·∫øm manh m·ªëi v√† th·∫•y m·ªôt bia ƒë√°: 'Ch·ªâ k·∫ª hi·ªÉu nghi th·ª©c m·ªõi x·ª©ng ƒë√°ng.' B·∫°n nh·ªõ l·ªùi √¥ng v√† ƒë·∫øn ƒë∆∞·ª£c ph√≤ng kho b√°u.",
                choices: [
                    { text: "Ti·∫øn v√†o ph√≤ng kho b√°u", next: "treasure_room_solo" }
                ]
            },
            search_illusion_team: {
                text: "Nh√≥m t√¨m th·∫•y bia ƒë√°: 'Ch·ªâ k·∫ª hi·ªÉu nghi th·ª©c m·ªõi x·ª©ng ƒë√°ng.' Mira g·∫≠t ƒë·∫ßu: 'Nh·∫≠t k√Ω c·ªßa √¥ng b·∫°n c√≥ th·ªÉ c·ª©u ch√∫ng ta.' Nh∆∞ng Jasper l√©n r√∫t dao.",
                choices: [
                    { text: "ƒê·ªëi ƒë·∫ßu v·ªõi Jasper", next: "confront_betrayer" },
                    { text: "Ti·∫øn v√†o ph√≤ng kho b√°u", next: "treasure_room" }
                ]
            },
            confront_betrayer_solo: {
                text: "B·∫°n ƒë·ªëi ƒë·∫ßu k·∫ª ph·∫£n b·ªôi ‚Äì Jasper, ng∆∞·ªùi t·ª± x∆∞ng l√† h·∫≠u du·ªá k·∫ª ph·∫£n b·ªôi Azran. B·∫°n ƒë√°nh b·∫°i h·∫Øn sau m·ªôt tr·∫≠n chi·∫øn kh·ªëc li·ªát, nh∆∞ng b·ªã th∆∞∆°ng n·∫∑ng. B·∫°n l√™ b∆∞·ªõc ƒë·∫øn ph√≤ng kho b√°u.",
                choices: [
                    { text: "Ti·∫øn v√†o ph√≤ng kho b√°u", next: "treasure_room_solo" }
                ]
            },
            confront_betrayer: {
                text: "B·∫°n v√† Mira ƒë·ªëi ƒë·∫ßu Jasper. H·∫Øn chi·∫øn ƒë·∫•u d·ªØ d·ªôi, nh∆∞ng Mira h·∫° g·ª•c h·∫Øn. Jasper c∆∞·ªùi ƒëi√™n d·∫°i tr∆∞·ªõc khi ng√£: 'L·ªùi nguy·ªÅn s·∫Ω l·∫•y m·∫°ng c√°c ng∆∞·ªùi!' Nh√≥m l√™ b∆∞·ªõc ƒë·∫øn ph√≤ng kho b√°u.",
                choices: [
                    { text: "Ti·∫øn v√†o ph√≤ng kho b√°u", next: "treasure_room" }
                ]
            },
            persuade_betrayer_solo: {
                text: "B·∫°n thuy·∫øt ph·ª•c Jasper h·ª£p t√°c, nh·∫Øc h·∫Øn v·ªÅ gi·∫•c m∆° c·ªßa √¥ng b·∫°n. H·∫Øn mi·ªÖn c∆∞·ª°ng ƒë·ªìng √Ω, nh∆∞ng √°nh m·∫Øt v·∫´n ƒë·∫ßy tham lam. C·∫£ hai ƒë·∫øn ph√≤ng kho b√°u.",
                choices: [
                    { text: "Ti·∫øn v√†o ph√≤ng kho b√°u", next: "treasure_room_betrayer" }
                ]
            },
            persuade_betrayer: {
                text: "B·∫°n thuy·∫øt ph·ª•c Jasper, v√† Mira mi·ªÖn c∆∞·ª°ng ƒë·ªìng √Ω. Jasper n√≥i: 'ƒê∆∞·ª£c th√¥i, nh∆∞ng t√¥i mu·ªën ph·∫ßn c·ªßa m√¨nh.' Nh√≥m ƒë·∫øn ph√≤ng kho b√°u, nh∆∞ng b·∫°n c·∫£m th·∫•y b·∫•t an.",
                choices: [
                    { text: "Ti·∫øn v√†o ph√≤ng kho b√°u", next: "treasure_room_betrayer" }
                ]
            },
            escape_betrayer: {
                text: "B·∫°n v√† Mira ch·∫°y tho√°t Jasper, t√¨m m·ªôt l·ªëi kh√°c v√†o kho b√°u. Nh∆∞ng Jasper ƒëu·ªïi theo, v√† trong l√∫c h·ªón lo·∫°n, h·∫Øn ƒë·∫©y b·∫°n v√†o m·ªôt h·∫ßm c·ªï. B·∫°n b·ªã giam vƒ©nh vi·ªÖn.",
                ending: "Bad Ending: B·ªã giam trong h·∫ßm c·ªï, kho b√°u m√£i xa v·ªùi."
            },
            treasure_room_solo: {
                text: "B·∫°n b∆∞·ªõc v√†o ph√≤ng kho b√°u, n∆°i vi√™n ng·ªçc c·ªßa Vua Azran l·∫•p l√°nh tr√™n b·ªá ƒë√°. Kh√¥ng kh√≠ n·∫∑ng n·ªÅ, nh∆∞ c√≥ ai ƒëang theo d√µi. Nh·∫≠t k√Ω c·ªßa √¥ng vang v·ªçng: 'Lena, h√£y l√†m ƒë√∫ng nghi th·ª©c.' B·∫°n ƒë·ª©ng tr∆∞·ªõc l·ª±a ch·ªçn cu·ªëi c√πng.",
                timeLimit: 60,
                choices: [
                    { text: "Ch·∫°m v√†o kho b√°u", next: "touch_treasure" },
                    { text: "ƒê·ªçc bia ƒë√° c·ªï", next: "read_stone" },
                    { text: "Th·ª±c hi·ªán nghi th·ª©c", next: "perform_ritual" },
                    { text: "Ph√° h·ªßy kho b√°u", next: "destroy_treasure" }
                ]
            },
            treasure_room: {
                text: "Nh√≥m b∆∞·ªõc v√†o ph√≤ng kho b√°u. Vi√™n ng·ªçc c·ªßa Vua Azran t·ªèa s√°ng r·ª±c r·ª°. Mira th√¨ th·∫ßm: 'C·∫©n th·∫≠n, Lena, t√¥i c·∫£m nh·∫≠n ƒë∆∞·ª£c l·ªùi nguy·ªÅn.' Jasper, n·∫øu c√≤n s·ªëng, √°nh m·∫Øt ƒë·∫ßy tham lam. B·∫°n ph·∫£i quy·∫øt ƒë·ªãnh ngay.",
                timeLimit: 60,
                choices: [
                    { text: "Ch·∫°m v√†o kho b√°u", next: "touch_treasure" },
                    { text: "ƒê·ªçc bia ƒë√° c·ªï", next: "read_stone" },
                    { text: "Th·ª±c hi·ªán nghi th·ª©c", next: "perform_ritual" },
                    { text: "Ph√° h·ªßy kho b√°u", next: "destroy_treasure" }
                ]
            },
            treasure_room_betrayer: {
                text: "B·∫°n v√† Jasper b∆∞·ªõc v√†o ph√≤ng kho b√°u. Vi√™n ng·ªçc l·∫•p l√°nh, nh∆∞ng Jasper b·∫•t ng·ªù ƒë·∫©y b·∫°n ra: 'Kho b√°u l√† c·ªßa t√¥i!' H·∫Øn lao ƒë·∫øn vi√™n ng·ªçc, k√≠ch ho·∫°t l·ªùi nguy·ªÅn. B·∫°n c√≥ c∆° h·ªôi cu·ªëi c√πng ƒë·ªÉ h√†nh ƒë·ªông.",
                timeLimit: 30,
                choices: [
                    { text: "NgƒÉn Jasper", next: "stop_jasper" },
                    { text: "Th·ª±c hi·ªán nghi th·ª©c", next: "perform_ritual" },
                    { text: "Ch·∫°y tho√°t", next: "escape_treasure" }
                ]
            },
            touch_treasure: {
                text: "B·∫°n ch·∫°m v√†o vi√™n ng·ªçc, v√† m·ªôt lu·ªìng nƒÉng l∆∞·ª£ng ƒëen nu·ªët ch·ª≠ng b·∫°n. L·ªùi nguy·ªÅn c·ªßa Vua Azran s·ªëng l·∫°i, v√† b·∫°n bi·∫øn m·∫•t trong √°nh s√°ng ma qu√°i.",
                ending: "Bad Ending: L·ªùi nguy·ªÅn nu·ªët ch·ª≠ng, b·∫°n tan bi·∫øn m√£i m√£i."
            },
            read_stone: {
                text: "Bia ƒë√° ghi: 'Ch·ªâ nghi th·ª©c c·ªï m·ªõi ph√° l·ªùi nguy·ªÅn. Sai m·ªôt b∆∞·ªõc, th·ªùi gian s·∫Ω tr√≥i bu·ªôc ng∆∞∆°i.' B·∫°n nh·ªõ nh·∫≠t k√Ω c·ªßa √¥ng, nh∆∞ng kh√¥ng ch·∫Øc chi ti·∫øt.",
                choices: [
                    { text: "Th·ª±c hi·ªán nghi th·ª©c", next: "perform_ritual" },
                    { text: "Ch·∫°m v√†o kho b√°u", next: "touch_treasure" },
                    { text: "T√¨m th√™m manh m·ªëi", next: "search_clues" }
                ]
            },
            search_clues: {
                text: "B·∫°n t√¨m th·∫•y m·ªôt b·ª©c ph√π ƒëi√™u ·∫©n, m√¥ t·∫£ nghi th·ª©c chi ti·∫øt: 'Hi·∫øn d√¢ng l√≤ng trung th·ª±c, th·∫Øp ba ng·ªçn l·ª≠a.' B·∫°n t·ª± tin h∆°n, nh∆∞ng th·ªùi gian s·∫Øp h·∫øt.",
                choices: [
                    { text: "Th·ª±c hi·ªán nghi th·ª©c", next: "perform_ritual_correct" }
                ]
            },
            perform_ritual: {
                text: "B·∫°n th·ª±c hi·ªán nghi th·ª©c, nh∆∞ng qu√™n m·ªôt b∆∞·ªõc quan tr·ªçng. Kh√¥ng gian m√©o m√≥, v√† b·∫°n b·ªã k√©o v√†o m·ªôt v√≤ng l·∫∑p th·ªùi gian, s·ªëng l·∫°i h√†nh tr√¨nh m√£i m√£i.",
                ending: "Twist Ending: K·∫πt trong v√≤ng l·∫∑p th·ªùi gian c·ªï ƒë·∫°i."
            },
            perform_ritual_correct: {
                text: "B·∫°n th·∫Øp ba ng·ªçn l·ª≠a, hi·∫øn d√¢ng l√≤ng trung th·ª±c nh∆∞ nh·∫≠t k√Ω h∆∞·ªõng d·∫´n. Vi√™n ng·ªçc s√°ng r·ª±c, l·ªùi nguy·ªÅn tan bi·∫øn. B·∫°n mang kho b√°u v·ªÅ, ti·∫øp n·ªëi di s·∫£n c·ªßa √¥ng.",
                ending: "Happy Ending: Ph√° l·ªùi nguy·ªÅn, tr·ªü th√†nh huy·ªÅn tho·∫°i."
            },
            destroy_treasure: {
                text: "B·∫°n ƒë·∫≠p v·ª° vi√™n ng·ªçc, ph√° h·ªßy kho b√°u. L·ªùi nguy·ªÅn tan bi·∫øn, nh∆∞ng b·∫°n tr·ªü v·ªÅ tay tr·∫Øng. Th·∫ø gi·ªõi kh√¥ng bao gi·ªù bi·∫øt ƒë·∫øn kho b√°u, nh∆∞ng b·∫°n s·ªëng s√≥t.",
                ending: "Secret Ending: Hy sinh kho b√°u, b·∫£o v·ªá th·∫ø gi·ªõi kh·ªèi l·ªùi nguy·ªÅn."
            },
            stop_jasper: {
                text: "B·∫°n ngƒÉn Jasper, nh∆∞ng h·∫Øn k√≠ch ho·∫°t l·ªùi nguy·ªÅn. C·∫£ hai b·ªã nu·ªët v√†o b√≥ng t·ªëi, v√† kho b√°u ch√¨m v√†o h∆∞ v√¥.",
                ending: "Bad Ending: L·ªùi nguy·ªÅn nu·ªët ch·ª≠ng, kh√¥ng ai s·ªëng s√≥t."
            },
            escape_treasure: {
                text: "B·∫°n ch·∫°y tho√°t, b·ªè l·∫°i Jasper v·ªõi kho b√°u. L·ªùi nguy·ªÅn nu·ªët ch·ª≠ng h·∫Øn, v√† b·∫°n tr·ªü v·ªÅ m·ªôt m√¨nh, nh∆∞ng b·ªã truy n√£ v√¨ ƒë√£ chi·∫øm kho b√°u trong m·∫Øt th·∫ø gi·ªõi.",
                ending: "Treasure Hunter‚Äôs Legacy: S·ªëng s√≥t, nh∆∞ng b·ªã truy n√£ m√£i m√£i."
            }
        };

        let currentNode = "start";
        let timeLeft = 0;
        let timerInterval = null;

        function startTimer(limit) {
            if (timerInterval) clearInterval(timerInterval);
            timeLeft = limit;
            const timerElement = document.getElementById("timer");
            timerElement.innerText = `Th·ªùi gian c√≤n l·∫°i: ${timeLeft} gi√¢y`;
            timerInterval = setInterval(() => {
                timeLeft--;
                timerElement.innerText = `Th·ªùi gian c√≤n l·∫°i: ${timeLeft} gi√¢y`;
                if (timeLeft <= 0) {
                    clearInterval(timerInterval);
                    currentNode = "time_out";
                    displayCurrentNode();
                }
            }, 1000);
        }

        function displayCurrentNode() {
            const node = storyNodes[currentNode] || {
                text: "H·∫øt th·ªùi gian! B·∫°n b·ªã m·∫Øc k·∫πt tr√™n ƒë·∫£o, v√† kho b√°u m√£i l√† b√≠ ·∫©n.",
                ending: "Bad Ending: H·∫øt th·ªùi gian, h√†nh tr√¨nh th·∫•t b·∫°i."
            };
            document.getElementById("story-text").innerHTML = node.text.replace(/\n/g, "<br>");
            const choicesContainer = document.getElementById("choices");
            const endingContainer = document.getElementById("ending");
            choicesContainer.innerHTML = "";
            endingContainer.innerText = "";

            if (node.timeLimit) {
                startTimer(node.timeLimit);
            } else {
                clearInterval(timerInterval);
                document.getElementById("timer").innerText = "";
            }

            if (node.choices) {
                node.choices.forEach(choice => {
                    const button = document.createElement("button");
                    button.innerText = choice.text;
                    button.className = "choice-btn";
                    button.onclick = () => {
                        clearInterval(timerInterval);
                        currentNode = choice.next;
                        displayCurrentNode();
                    };
                    choicesContainer.appendChild(button);
                });
            } else {
                clearInterval(timerInterval);
                endingContainer.innerText = node.ending;
                const restartButton = document.createElement("button");
                restartButton.innerText = "Ch∆°i l·∫°i t·ª´ ƒë·∫ßu";
                restartButton.className = "choice-btn restart-btn";
                restartButton.onclick = () => {
                    currentNode = "start";
                    displayCurrentNode();
                };
                choicesContainer.appendChild(restartButton);
            }
        }

        window.onload = () => {
            displayCurrentNode();
        };
    </script>
</body>
</html>