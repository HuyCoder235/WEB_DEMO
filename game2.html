<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nhi·ªám v·ª• tr√™n h√†nh tinh Xerath</title>
    <style>
        body {
            font-family: 'Courier New', monospace;
            background-color: #0a0a1a;
            color: #c0c0ff;
            margin: 0;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }
        .container {
            max-width: 900px;
            background-color: #1a1a2a;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 0 15px rgba(0, 0, 255, 0.2);
        }
        h1 {
            text-align: center;
            color: #ff55ff;
            text-shadow: 0 0 5px #ff55ff;
        }
        .story-text {
            line-height: 1.6;
            margin-bottom: 20px;
            font-size: 1.1em;
        }
        .dialogue {
            background-color: #2a2a3a;
            padding: 10px;
            border-left: 4px solid #55aaff;
            margin: 10px 0;
        }
        .choices {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        .choice-btn {
            background-color: #55aaff;
            color: #fff;
            padding: 10px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1em;
            transition: background-color 0.3s;
        }
        .choice-btn:hover {
            background-color: #4488cc;
        }
        .ending {
            font-weight: bold;
            color: #ffaa55;
            margin-top: 20px;
            text-align: center;
        }
        .restart-btn {
            background-color: #55aa55;
            margin-top: 10px;
        }
        .restart-btn:hover {
            background-color: #448844;
        }
        .timer {
            color: #ff5555;
            font-weight: bold;
            margin-bottom: 10px;
            text-align: center;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üöÄ Nhi·ªám v·ª• tr√™n h√†nh tinh Xerath</h1>
        <div id="timer" class="timer"></div>
        <div id="story-text" class="story-text"></div>
        <div id="choices" class="choices"></div>
        <div id="ending" class="ending"></div>
    </div>

    <script>
        const storyNodes = {
            start: {
                text: "B·∫°n l√† ƒë·ªôi tr∆∞·ªüng c·ªßa t√†u v≈© tr·ª• *Aurora*, d·∫´n ƒë·∫ßu ƒë·ªôi th√°m hi·ªÉm g·ªìm Sam ‚Äì k·ªπ s∆∞ n√≥ng t√≠nh, v√† Lena ‚Äì nh√† sinh v·∫≠t h·ªçc c·∫©n th·∫≠n. Nhi·ªám v·ª• c·ªßa b·∫°n: kh√°m ph√° h√†nh tinh Xerath, m·ªôt h√†nh tinh xa x√¥i v·ªõi d·∫•u hi·ªáu c·ªßa n·ªÅn vƒÉn minh c·ªï ƒë·∫°i. Khi t√†u chu·∫©n b·ªã h·∫° c√°nh, AI t√†u *Nexus* c·∫£nh b√°o: 'H√†nh tinh c√≥ t√≠n hi·ªáu nƒÉng l∆∞·ª£ng b·∫•t th∆∞·ªùng. H√£y ch·ªçn ƒëi·ªÉm h·∫° c√°nh c·∫©n th·∫≠n.'",
                timeLimit: 6000,
                choices: [
                    { text: "H·∫° c√°nh ·ªü v√πng ƒë·ªìi c√≥ s∆∞∆°ng m√π", next: "misty_hills" },
                    { text: "H·∫° c√°nh g·∫ßn c·∫•u tr√∫c l·∫°", next: "strange_structure" },
                    { text: "Ki·ªÉm tra d·ªØ li·ªáu t·ª´ *Nexus* tr∆∞·ªõc", next: "check_nexus" }
                ]
            },
            check_nexus: {
                text: "B·∫°n y√™u c·∫ßu *Nexus* ph√¢n t√≠ch d·ªØ li·ªáu. AI b√°o c√°o: 'V√πng ƒë·ªìi c√≥ s∆∞∆°ng m√π g√¢y nhi·ªÖu t√≠n hi·ªáu li√™n l·∫°c, nh∆∞ng an to√†n h∆°n. C·∫•u tr√∫c l·∫° ph√°t ra nƒÉng l∆∞·ª£ng m·∫°nh, c√≥ th·ªÉ nguy hi·ªÉm.' B·∫°n quy·∫øt ƒë·ªãnh nhanh tr∆∞·ªõc khi t√†u m·∫•t ki·ªÉm so√°t.",
                timeLimit: 45,
                choices: [
                    { text: "H·∫° c√°nh ·ªü v√πng ƒë·ªìi c√≥ s∆∞∆°ng m√π", next: "misty_hills" },
                    { text: "H·∫° c√°nh g·∫ßn c·∫•u tr√∫c l·∫°", next: "strange_structure" }
                ]
            },
            misty_hills: {
                text: "T√†u h·∫° c√°nh xu·ªëng v√πng ƒë·ªìi bao ph·ªß b·ªüi s∆∞∆°ng m√π d√†y ƒë·∫∑c, √°nh s√°ng t√≠m nh·∫°t l·∫•p l√≥ qua l√†n s∆∞∆°ng. Sam c√†u nh√†u: 'T·∫ßm nh√¨n k√©m th·∫ø n√†y, l√†m sao t√¨m ƒë∆∞·ª£c g√¨?' Lena ki·ªÉm tra thi·∫øt b·ªã: 'T√≠n hi·ªáu li√™n l·∫°c b·ªã nhi·ªÖu, nh∆∞ng t√¥i ph√°t hi·ªán m·ªôt t√†n t√≠ch c√°ch ƒë√¢y 2km.' B·∫°n d·∫´n ƒë·ªôi ti·∫øn v·ªÅ t√†n t√≠ch c·ªï ƒë·∫°i.",
                choices: [
                    { text: "Quan s√°t t√†n t√≠ch t·ª´ xa", next: "observe_ruins" },
                    { text: "Ti·∫øn v√†o b√™n trong t√†n t√≠ch", next: "enter_ruins" },
                    { text: "Ki·ªÉm tra m√¥i tr∆∞·ªùng xung quanh", next: "check_environment" }
                ]
            },
            strange_structure: {
                text: "T√†u h·∫° c√°nh g·∫ßn m·ªôt c·∫•u tr√∫c kh·ªïng l·ªì, l·∫•p l√°nh √°nh s√°ng xanh k·ª≥ l·∫°. ƒê·ªôt nhi√™n, m·ªôt lu·ªìng nƒÉng l∆∞·ª£ng qu√©t qua, l√†m rung chuy·ªÉn t√†u. Sam h√©t l√™n: 'C√≥ c√°i g√¨ ƒë√≥ ƒëang qu√©t ch√∫ng ta!' Lena b√¨nh tƒ©nh: 'ƒê√¢y kh√¥ng ph·∫£i c√¥ng ngh·ªá b√¨nh th∆∞·ªùng. Ch√∫ng ta n√™n c·∫©n th·∫≠n.' B·∫°n c·∫£m nh·∫≠n ƒë∆∞·ª£c nguy hi·ªÉm, nh∆∞ng t√≤ m√≤ th√¥i th√∫c.",
                choices: [
                    { text: "Quan s√°t c·∫•u tr√∫c t·ª´ xa", next: "observe_ruins" },
                    { text: "Ti·∫øn v√†o b√™n trong c·∫•u tr√∫c", next: "enter_ruins" },
                    { text: "R√∫t lui v·ªÅ t√†u", next: "retreat_to_ship" }
                ]
            },
            retreat_to_ship: {
                text: "B·∫°n ra l·ªánh r√∫t lui, nh∆∞ng nƒÉng l∆∞·ª£ng t·ª´ c·∫•u tr√∫c b√πng ph√°t, ph√° h·ªßy t√†u *Aurora*. C·∫£ ƒë·ªôi b·ªã m·∫Øc k·∫πt tr√™n Xerath, kh√¥ng c√≤n c√°ch li√™n l·∫°c v·ªõi Tr√°i ƒê·∫•t.",
                ending: "Bad Ending: T√†u b·ªã ph√° h·ªßy, c·∫£ ƒë·ªôi b·ªã m·∫Øc k·∫πt vƒ©nh vi·ªÖn."
            },
            check_environment: {
                text: "B·∫°n ki·ªÉm tra khu v·ª±c quanh v√πng ƒë·ªìi. M·ªôt h·ªì n∆∞·ªõc ph√°t s√°ng k·ª≥ l·∫° thu h√∫t s·ª± ch√∫ √Ω. Lena c·∫£nh b√°o: 'C√≥ d·∫•u hi·ªáu sinh h·ªçc b·∫•t th∆∞·ªùng trong n∆∞·ªõc.' Sam mu·ªën l·∫•y m·∫´u, nh∆∞ng b·∫°n c·∫£m th·∫•y kh√¥ng ·ªïn.",
                choices: [
                    { text: "L·∫•y m·∫´u n∆∞·ªõc", next: "sample_water" },
                    { text: "B·ªè qua v√† ti·∫øn ƒë·∫øn t√†n t√≠ch", next: "observe_ruins" }
                ]
            },
            sample_water: {
                text: "Sam l·∫•y m·∫´u n∆∞·ªõc, nh∆∞ng m·ªôt sinh v·∫≠t d·∫°ng s∆∞∆°ng m√π tr·ªìi l√™n t·ª´ h·ªì, t·∫•n c√¥ng anh ta. Lena c·ªë c·ª©u, nh∆∞ng c·∫£ hai b·ªã nu·ªët ch·ª≠ng v√†o l√†n s∆∞∆°ng. B·∫°n kh√¥ng th·ªÉ l√†m g√¨ ngo√†i ch·∫°y tho√°t.",
                ending: "Horror Ending: Sam v√† Lena b·ªã sinh v·∫≠t nu·ªët ch·ª≠ng, b·∫°n s·ªëng s√≥t nh∆∞ng ƒë∆°n ƒë·ªôc."
            },
            observe_ruins: {
                text: "T·ª´ xa, b·∫°n th·∫•y t√†n t√≠ch c·ªï ƒë·∫°i v·ªõi nh·ªØng c·ªôt ƒë√° kh·ªïng l·ªì, ph√°t ra √°nh s√°ng xanh nh·∫°t. *Nexus* b√°o c√°o: 'T√≠n hi·ªáu nƒÉng l∆∞·ª£ng tƒÉng m·∫°nh, c√≥ th·ªÉ l√† h·ªá th·ªëng ph√≤ng th·ªß.' Sam s·ªët ru·ªôt: 'Quan s√°t th·∫ø ƒë·ªß r·ªìi, v√†o trong ƒëi!' Lena ƒë·ªÅ ngh·ªã: 'N√™n t√¨m hi·ªÉu th√™m tr∆∞·ªõc.'",
                choices: [
                    { text: "Ti·∫øn v√†o b√™n trong t√†n t√≠ch", next: "enter_ruins" },
                    { text: "T√¨m ki·∫øm l·ªëi v√†o ph·ª•", next: "find_side_entrance" }
                ]
            },
            find_side_entrance: {
                text: "B·∫°n t√¨m th·∫•y m·ªôt l·ªëi v√†o nh·ªè, ·∫©n sau l·ªõp r√™u ph√°t s√°ng. B√™n trong, m·ªôt b·∫£ng ƒëi·ªÅu khi·ªÉn c·ªï ƒë·∫°i hi·ªán l√™n v·ªõi k√Ω hi·ªáu l·∫°. Lena n√≥i: 'ƒê√¢y c√≥ th·ªÉ l√† ch√¨a kh√≥a ƒë·ªÉ hi·ªÉu t√†n t√≠ch.' Sam g·∫ßm g·ª´: 'C·ª© ch·∫°m v√†o ƒëi, ƒë·ª´ng m·∫•t th·ªùi gian!'",
                choices: [
                    { text: "Ch·∫°m v√†o c·ªïng nƒÉng l∆∞·ª£ng", next: "touch_portal" },
                    { text: "Gi·∫£i m√£ k√Ω hi·ªáu c·ªï", next: "decode_symbols" },
                    { text: "Ki·ªÉm tra th√™m khu v·ª±c", next: "explore_further" }
                ]
            },
            explore_further: {
                text: "B·∫°n kh√°m ph√° s√¢u h∆°n v√† t√¨m th·∫•y m·ªôt c·ªó m√°y c·ªï ƒë·∫°i, ph√°t ra √¢m thanh vo ve. N√≥ d∆∞·ªùng nh∆∞ ƒëang theo d√µi b·∫°n. Lena th√¨ th·∫ßm: 'ƒê√¢y c√≥ th·ªÉ l√† tr√≠ tu·ªá nh√¢n t·∫°o c·ªßa ng∆∞·ªùi Xerath.' B·∫°n ph·∫£i quy·∫øt ƒë·ªãnh nhanh!",
                timeLimit: 30,
                choices: [
                    { text: "K√≠ch ho·∫°t c·ªó m√°y", next: "activate_machine" },
                    { text: "Ph√° h·ªßy c·ªó m√°y", next: "destroy_machine" },
                    { text: "B·ªè qua v√† quay l·∫°i", next: "enter_ruins" }
                ]
            },
            activate_machine: {
                text: "C·ªó m√°y kh·ªüi ƒë·ªông, ph√°t ra gi·ªçng n√≥i trong ƒë·∫ßu b·∫°n: 'K·∫ª x√¢m nh·∫≠p, ch·ª©ng minh gi√° tr·ªã c·ªßa ng∆∞∆°i.' M·ªôt c√¢u ƒë·ªë hi·ªán l√™n tr√™n m√†n h√¨nh ‚Äì b·∫°n ph·∫£i tr·∫£ l·ªùi ƒë√∫ng ƒë·ªÉ ti·∫øp t·ª•c.",
                choices: [
                    { text: "Tr·∫£ l·ªùi c√¢u ƒë·ªë", next: "solve_puzzle" },
                    { text: "B·ªè qua v√† r·ªùi ƒëi", next: "leave_machine" }
                ]
            },
            solve_puzzle: {
                text: "B·∫°n tr·∫£ l·ªùi ƒë√∫ng c√¢u ƒë·ªë. C·ªó m√°y m·ªü ra m·ªôt kho d·ªØ li·ªáu, ti·∫øt l·ªô v·ªÅ m·ªôt n·ªÅn vƒÉn minh ƒë√£ b·ªã h·ªßy di·ªát b·ªüi ch√≠nh c√¥ng ngh·ªá c·ªßa h·ªç. B·∫°n nh·∫≠n ƒë∆∞·ª£c m·ªôt thi·∫øt b·ªã li√™n l·∫°c c·ªï ƒë·ªÉ g·ª≠i t√≠n hi·ªáu c·∫ßu c·ª©u.",
                choices: [
                    { text: "S·ª≠ d·ª•ng thi·∫øt b·ªã li√™n l·∫°c", next: "use_ancient_device" }
                ]
            },
            use_ancient_device: {
                text: "Thi·∫øt b·ªã g·ª≠i t√≠n hi·ªáu m·∫°nh m·∫Ω ƒë·∫øn m·ªôt t√†u c·ª©u h·ªô. B·∫°n v√† ƒë·ªôi s·ªëng s√≥t, mang v·ªÅ c√¥ng ngh·ªá c·ªï ƒë·∫°i, m·ªü ra k·ª∑ nguy√™n m·ªõi cho lo√†i ng∆∞·ªùi.",
                ending: "Secret Ending: Kh√°m ph√° b√≠ m·∫≠t Xerath, tr·ªü th√†nh ng∆∞·ªùi h√πng."
            },
            leave_machine: {
                text: "B·∫°n r·ªùi ƒëi, nh∆∞ng c·ªó m√°y k√≠ch ho·∫°t h·ªá th·ªëng ph√≤ng th·ªß. M·ªôt ch√πm tia nƒÉng l∆∞·ª£ng b·∫Øn ra, thi√™u r·ª•i c·∫£ ƒë·ªôi.",
                ending: "Bad Ending: B·ªã h·ªá th·ªëng ph√≤ng th·ªß ti√™u di·ªát."
            },
            destroy_machine: {
                text: "B·∫°n ph√° h·ªßy c·ªó m√°y, nh∆∞ng n√≥ ph√°t n·ªï, l√†m s·ª•p c·∫£ khu t√†n t√≠ch. B·∫°n v√† ƒë·ªôi b·ªã ch√¥n v√πi d∆∞·ªõi ƒë·ªëng ƒë·ªï n√°t.",
                ending: "Bad Ending: Ch·∫øt trong v·ª• n·ªï, nhi·ªám v·ª• th·∫•t b·∫°i."
            },
            enter_ruins: {
                text: "B√™n trong t√†n t√≠ch, kh√¥ng kh√≠ l·∫°nh bu·ªët, √°nh s√°ng xanh t·ª´ c√°c b·ª©c t∆∞·ªùng chi·∫øu l√™n nh·ªØng k√Ω hi·ªáu c·ªï. M·ªôt c·ªïng nƒÉng l∆∞·ª£ng kh·ªïng l·ªì ƒë·ª©ng gi·ªØa cƒÉn ph√≤ng. Sam ph·∫•n kh√≠ch: 'C√°i n√†y ch·∫Øc ch·∫Øn d·∫´n ƒë·∫øn kho b√°u!' Lena lo l·∫Øng: 'T√¥i c·∫£m th·∫•y nƒÉng l∆∞·ª£ng n√†y... kh√¥ng ·ªïn.'",
                timeLimit: 45,
                choices: [
                    { text: "Ch·∫°m v√†o c·ªïng nƒÉng l∆∞·ª£ng", next: "touch_portal" },
                    { text: "Gi·∫£i m√£ k√Ω hi·ªáu c·ªï", next: "decode_symbols" },
                    { text: "Ki·ªÉm tra thi·∫øt b·ªã xung quanh", next: "check_devices" }
                ]
            },
            check_devices: {
                text: "B·∫°n t√¨m th·∫•y m·ªôt thi·∫øt b·ªã ph√°t t√≠n hi·ªáu y·∫øu, d∆∞·ªùng nh∆∞ l√† b·ªô li√™n l·∫°c c·ªï. Lena n√≥i: 'N·∫øu s·ª≠a ƒë∆∞·ª£c, ch√∫ng ta c√≥ th·ªÉ g·ªçi c·ª©u h·ªô.' Sam ph·∫£n ƒë·ªëi: 'T·ªën th·ªùi gian, c·ª© ƒëi s√¢u v√†o trong ƒëi!'",
                choices: [
                    { text: "S·ª≠a thi·∫øt b·ªã li√™n l·∫°c", next: "repair_comms" },
                    { text: "Ti·∫øp t·ª•c kh√°m ph√°", next: "decode_symbols" }
                ]
            },
            repair_comms: {
                text: "B·∫°n s·ª≠a thi·∫øt b·ªã, nh∆∞ng t√≠n hi·ªáu y·∫øu. Sam ƒë·ªÅ ngh·ªã t√°ch nh√≥m ƒë·ªÉ t√¨m b·ªô khu·∫øch ƒë·∫°i t√≠n hi·ªáu. Lena lo l·∫Øng: 'T√°ch ra ·ªü n∆°i n√†y qu√° nguy hi·ªÉm.'",
                choices: [
                    { text: "T√°ch nh√≥m", next: "split_team" },
                    { text: "Gi·ªØ nh√≥m l·∫°i", next: "keep_team" }
                ]
            },
            touch_portal: {
                text: "B·∫°n ch·∫°m v√†o c·ªïng, v√† m·ªôt lu·ªìng nƒÉng l∆∞·ª£ng h√∫t b·∫°n v√†o. C∆° th·ªÉ b·∫°n tan r√£ trong √°nh s√°ng xanh, h√≤a v√†o h·ªá th·ªëng nƒÉng l∆∞·ª£ng c·ªßa t√†n t√≠ch.",
                ending: "Bad Ending: B·ªã c·ªïng nƒÉng l∆∞·ª£ng h·∫•p th·ª•, kh√¥ng c√≤n t·ªìn t·∫°i."
            },
            decode_symbols: {
                text: "B·∫°n gi·∫£i m√£ k√Ω hi·ªáu c·ªï, v√† m·ªôt c√°nh c·ª≠a b√≠ m·∫≠t m·ªü ra, d·∫´n ƒë·∫øn m·ªôt ph√≤ng d·ªØ li·ªáu. Lena kinh ng·∫°c: 'ƒê√¢y l√† kho ki·∫øn th·ª©c c·ªßa m·ªôt n·ªÅn vƒÉn minh!' Sam b·∫•t c·∫©n ch·∫°m v√†o m·ªôt b·∫£ng ƒëi·ªÅu khi·ªÉn, v√† √°nh s√°ng ƒë·ªè l√≥e l√™n.",
                timeLimit: 30,
                choices: [
                    { text: "Ki·ªÉm tra ph√≤ng d·ªØ li·ªáu", next: "data_room" },
                    { text: "NgƒÉn Sam l·∫°i", next: "stop_sam" },
                    { text: "K√≠ch ho·∫°t b·∫£ng ƒëi·ªÅu khi·ªÉn", next: "activate_panel" }
                ]
            },
            data_room: {
                text: "Ph√≤ng d·ªØ li·ªáu ch·ª©a th√¥ng tin v·ªÅ m·ªôt lo√†i sinh v·∫≠t tr√≠ tu·ªá t·ª´ng s·ªëng tr√™n Xerath. H·ªç ƒë√£ t·∫°o ra c√¥ng ngh·ªá v∆∞·ª£t th·ªùi ƒë·∫°i nh∆∞ng t·ª± h·ªßy di·ªát. B·∫°n thu th·∫≠p d·ªØ li·ªáu, nh∆∞ng Sam ƒë·ªôt nhi√™n bi·∫øn m·∫•t.",
                choices: [
                    { text: "T√¨m Sam", next: "find_sam" },
                    { text: "B·ªè qua v√† ti·∫øp t·ª•c", next: "continue_without_sam" },
                    { text: "Ki·ªÉm tra d·ªØ li·ªáu th√™m", next: "check_data" }
                ]
            },
            check_data: {
                text: "B·∫°n ƒë·ªçc th√™m d·ªØ li·ªáu v√† ph√°t hi·ªán m·ªôt b·∫£n ƒë·ªì d·∫´n ƒë·∫øn m·ªôt con t√†u c·ªï trong r·ª´ng ph√°t s√°ng. Lena n√≥i: 'ƒê√¢y c√≥ th·ªÉ l√† c√°ch tho√°t kh·ªèi h√†nh tinh!'",
                choices: [
                    { text: "ƒêi ƒë·∫øn r·ª´ng ph√°t s√°ng", next: "enter_glowing_forest" }
                ]
            },
            stop_sam: {
                text: "B·∫°n k√©o Sam ra kh·ªèi b·∫£ng ƒëi·ªÅu khi·ªÉn, nh∆∞ng anh ta ƒë√£ k√≠ch ho·∫°t m·ªôt h·ªá th·ªëng ph√≤ng th·ªß. M·ªôt sinh v·∫≠t c∆° kh√≠ xu·∫•t hi·ªán, t·∫•n c√¥ng c·∫£ ƒë·ªôi.",
                ending: "Horror Ending: B·ªã sinh v·∫≠t c∆° kh√≠ ti√™u di·ªát."
            },
            activate_panel: {
                text: "B·∫£ng ƒëi·ªÅu khi·ªÉn ph√°t ra s√≥ng nƒÉng l∆∞·ª£ng, khi·∫øn Sam ng√£ xu·ªëng, m·∫Øt anh ta √°nh l√™n m√†u xanh k·ª≥ l·∫°. Lena h√©t l√™n: 'Sam kh√¥ng c√≤n l√† ch√≠nh m√¨nh n·ªØa!'",
                ending: "Twist Ending: Sam b·ªã ƒëi·ªÅu khi·ªÉn b·ªüi tr√≠ tu·ªá c·ªï ƒë·∫°i."
            },
            split_team: {
                text: "Sam t√°ch ra ƒë·ªÉ t√¨m b·ªô khu·∫øch ƒë·∫°i t√≠n hi·ªáu. Sau v√†i gi·ªù, anh ta kh√¥ng tr·ªü l·∫°i. Lena lo l·∫Øng: 'Ch√∫ng ta kh√¥ng n√™n ƒë·ªÉ anh ·∫•y ƒëi m·ªôt m√¨nh.' B·∫°n nghe th·∫•y ti·∫øng ƒë·ªông l·∫° t·ª´ h∆∞·ªõng Sam bi·∫øn m·∫•t.",
                choices: [
                    { text: "T√¨m Sam", next: "find_sam" },
                    { text: "B·ªè qua v√† ti·∫øp t·ª•c", next: "continue_without_sam" }
                ]
            },
            find_sam: {
                text: "B·∫°n t√¨m th·∫•y Sam, nh∆∞ng anh ta h√†nh ƒë·ªông k·ª≥ l·∫°, l·∫©m b·∫©m nh·ªØng t·ª´ kh√¥ng r√µ nghƒ©a. ƒê·ªôt nhi√™n, anh ta t·∫•n c√¥ng b·∫°n, m·∫Øt √°nh l√™n m√†u xanh. Lena h√©t: 'Anh ·∫•y b·ªã ƒëi·ªÅu khi·ªÉn!'",
                ending: "Twist Ending: Sam b·ªã sinh v·∫≠t tr√≠ tu·ªá ki·ªÉm so√°t, c·∫£ ƒë·ªôi th·∫•t b·∫°i."
            },
            continue_without_sam: {
                text: "B·∫°n b·ªè qua Sam v√† ti·∫øp t·ª•c v·ªõi Lena. Sau ƒë√≥, b·∫°n nh·∫≠n ƒë∆∞·ª£c t√≠n hi·ªáu t·ª´ Sam, nh∆∞ng ch·ªâ l√† ti·∫øng h√©t cu·ªëi c√πng tr∆∞·ªõc khi anh ta ch·∫øt. Lena suy s·ª•p: 'Ch√∫ng ta ƒë√°ng l·∫Ω n√™n c·ª©u anh ·∫•y...'",
                ending: "Bad Ending: Sam ch·∫øt, c·∫£ ƒë·ªôi mang n·ªói ƒëau v√† th·∫•t b·∫°i."
            },
            keep_team: {
                text: "B·∫°n gi·ªØ nh√≥m l·∫°i, v√† c·∫£ ƒë·ªôi s·ª≠a ƒë∆∞·ª£c thi·∫øt b·ªã li√™n l·∫°c. ƒê√™m ƒë√≥, b·∫°n nghe th·∫•y √¢m thanh k·ª≥ l·∫° ‚Äì nh∆∞ ti·∫øng th√¨ th·∫ßm t·ª´ xa. Lena th√¨ th·∫ßm: 'C√≥ g√¨ ƒë√≥ ngo√†i kia... ƒëang theo d√µi ch√∫ng ta.'",
                choices: [
                    { text: "Theo d√µi √¢m thanh", next: "follow_sound" },
                    { text: "L·ªù ƒëi v√† ngh·ªâ ng∆°i", next: "ignore_sound" },
                    { text: "Ki·ªÉm tra thi·∫øt b·ªã li√™n l·∫°c", next: "check_comms_again" }
                ]
            },
            check_comms_again: {
                text: "B·∫°n ki·ªÉm tra thi·∫øt b·ªã li√™n l·∫°c v√† ph√°t hi·ªán m·ªôt t√≠n hi·ªáu y·∫øu t·ª´ m·ªôt v·ªá tinh c·ªï. Lena n√≥i: 'N·∫øu k√≠ch ho·∫°t ƒë∆∞·ª£c n√≥, ch√∫ng ta c√≥ th·ªÉ g·ª≠i c·∫ßu c·ª©u!'",
                choices: [
                    { text: "K√≠ch ho·∫°t v·ªá tinh c·ªï", next: "activate_satellite" }
                ]
            },
            follow_sound: {
                text: "B·∫°n d·∫´n ƒë·ªôi theo √¢m thanh, ƒë·∫øn m·ªôt khu v·ª±c ƒë·∫ßy s∆∞∆°ng m√π. M·ªôt sinh v·∫≠t t√†ng h√¨nh xu·∫•t hi·ªán, ph√°t ra √°nh s√°ng m·ªù ·∫£o. Sam th√¨ th·∫ßm: 'N√≥ kh√¥ng t·∫•n c√¥ng... ch∆∞a t·∫•n c√¥ng.' Lena ƒë·ªÅ ngh·ªã: 'C√≥ th·ªÉ n√≥ mu·ªën giao ti·∫øp.'",
                choices: [
                    { text: "Giao ti·∫øp v·ªõi sinh v·∫≠t", next: "communicate_creature" },
                    { text: "T·∫•n c√¥ng sinh v·∫≠t", next: "attack_creature" },
                    { text: "R√∫t lui l·∫∑ng l·∫Ω", next: "retreat_quietly" }
                ]
            },
            communicate_creature: {
                text: "B·∫°n ph√°t t√≠n hi·ªáu th√¢n thi·ªán, v√† sinh v·∫≠t ƒë√°p l·∫°i b·∫±ng h√¨nh ·∫£nh trong ƒë·∫ßu b·∫°n: m·ªôt con ƒë∆∞·ªùng d·∫´n ƒë·∫øn m·ªôt con t√†u c·ªï. N√≥ r·ªùi ƒëi, ƒë·ªÉ l·∫°i b·∫°n an to√†n.",
                choices: [
                    { text: "ƒêi theo con ƒë∆∞·ªùng", next: "follow_path" }
                ]
            },
            attack_creature: {
                text: "B·∫°n t·∫•n c√¥ng, nh∆∞ng sinh v·∫≠t t√†ng h√¨nh tr·∫£ ƒë≈©a, tri·ªáu h·ªìi ƒë·ªìng lo·∫°i. C·∫£ ƒë·ªôi b·ªã sƒÉn l√πng trong b√≥ng t·ªëi, kh√¥ng l·ªëi tho√°t.",
                ending: "Horror Ending: B·ªã sinh v·∫≠t sƒÉn l√πng ƒë·∫øn ch·∫øt."
            },
            retreat_quietly: {
                text: "B·∫°n r√∫t lui, nh∆∞ng sinh v·∫≠t v·∫´n theo d√µi t·ª´ xa. Lena n√≥i: 'Ch√∫ng ta c·∫ßn g·ª≠i t√≠n hi·ªáu c·∫ßu c·ª©u ngay, tr∆∞·ªõc khi n√≥ quay l·∫°i.'",
                choices: [
                    { text: "D√πng ƒë√†i ch√≠nh", next: "use_main_radio" },
                    { text: "D√πng b·ªô ph√°t th·ªß c√¥ng", next: "use_manual_transmitter" }
                ]
            },
            ignore_sound: {
                text: "B·∫°n l·ªù ƒëi √¢m thanh v√† ngh·ªâ ng∆°i. S√°ng h√¥m sau, ƒë·ªôi b·∫°n kh√¥ng ti·∫øn tri·ªÉn g√¨ m·ªõi, nh∆∞ng Lena ph√°t hi·ªán m·ªôt khu r·ª´ng ph√°t s√°ng g·∫ßn ƒë√≥.",
                choices: [
                    { text: "ƒêi ƒë·∫øn r·ª´ng ph√°t s√°ng", next: "enter_glowing_forest" },
                    { text: "G·ª≠i t√≠n hi·ªáu c·∫ßu c·ª©u", next: "use_main_radio" }
                ]
            },
            follow_path: {
                text: "Con ƒë∆∞·ªùng d·∫´n b·∫°n ƒë·∫øn m·ªôt khu r·ª´ng ph√°t s√°ng, v·ªõi nh·ªØng c√¢y ph√°t quang v√† kh√¥ng kh√≠ ƒë·∫ßy h·∫°t √°nh s√°ng. Lena ƒë·ªôt nhi√™n ng√£ xu·ªëng, √¥m ng·ª±c: 'C√≥ g√¨ ƒë√≥... trong t√¥i!'",
                choices: [
                    { text: "C·ª©u Lena", next: "save_lena" },
                    { text: "Lo·∫°i b·ªè Lena", next: "eliminate_lena" },
                    { text: "T√¨m con t√†u c·ªï", next: "find_ancient_ship" }
                ]
            },
            use_main_radio: {
                text: "B·∫°n s·ª≠ d·ª•ng ƒë√†i ch√≠nh ƒë·ªÉ g·ª≠i t√≠n hi·ªáu c·∫ßu c·ª©u. M·ªôt ph·∫£n h·ªìi ƒë·∫øn ngay: 'Ch√∫ng t√¥i ƒëang ƒë·∫øn, gi·ªØ v·ªã tr√≠!' Sam reo l√™n: 'ƒê∆∞·ª£c c·ª©u r·ªìi!' Nh∆∞ng Lena nghi ng·ªù: 'T√≠n hi·ªáu n√†y... c√≥ g√¨ ƒë√≥ sai sai.'",
                timeLimit: 30,
                choices: [
                    { text: "Ra ƒë√≥n ƒë·ªôi c·ª©u h·ªô", next: "meet_rescue" },
                    { text: "Ki·ªÉm tra t√≠n hi·ªáu", next: "check_signal" }
                ]
            },
            meet_rescue: {
                text: "B·∫°n ra ƒë√≥n ƒë·ªôi c·ª©u h·ªô, nh∆∞ng ƒë√≥ l√† nh·ªØng sinh v·∫≠t gi·∫£ d·∫°ng. Ch√∫ng t·∫•n c√¥ng, v√† c·∫£ ƒë·ªôi b·ªã x√≥a s·ªï trong ch·ªõp m·∫Øt.",
                ending: "Horror Ending: B·ªã sinh v·∫≠t gi·∫£ d·∫°ng ph·ª•c k√≠ch."
            },
            check_signal: {
                text: "B·∫°n ph√°t hi·ªán t√≠n hi·ªáu l√† gi·∫£, do m·ªôt h·ªá th·ªëng c·ªï tr√™n h√†nh tinh t·∫°o ra. Lena ƒë·ªÅ ngh·ªã d√πng b·ªô ph√°t th·ªß c√¥ng ƒë·ªÉ th·ª≠ l·∫°i.",
                choices: [
                    { text: "D√πng b·ªô ph√°t th·ªß c√¥ng", next: "use_manual_transmitter" },
                    { text: "ƒêi t√¨m ngu·ªìn t√≠n hi·ªáu gi·∫£", next: "find_signal_source" }
                ]
            },
            find_signal_source: {
                text: "B·∫°n l·∫ßn theo t√≠n hi·ªáu gi·∫£ ƒë·∫øn m·ªôt ph√≤ng k√≠n s√¢u trong t√†n t√≠ch. B√™n trong, m·ªôt sinh v·∫≠t tr√≠ tu·ªá ch√†o ƒë√≥n b·∫°n: 'K·∫ª x√¢m nh·∫≠p, h√£y ch·ª©ng minh tr√≠ tu·ªá c·ªßa ng∆∞∆°i.'",
                choices: [
                    { text: "Tr·∫£ l·ªùi c√¢u ƒë·ªë c·ªßa h·ªç", next: "answer_puzzle" },
                    { text: "Bi·ªÉu hi·ªán b·∫•t k√≠nh", next: "act_disrespectful" }
                ]
            },
            use_manual_transmitter: {
                text: "B·∫°n d√πng b·ªô ph√°t th·ªß c√¥ng, v√† t√≠n hi·ªáu k√≠ch ho·∫°t m·ªôt v·ªá tinh c·ªï tr√™n qu·ªπ ƒë·∫°o. M·ªôt t√†u c·ª©u h·ªô th·ª±c s·ª± nh·∫≠n ƒë∆∞·ª£c t√≠n hi·ªáu v√† ƒë·∫øn c·ª©u b·∫°n.",
                choices: [
                    { text: "Ch·ªù ƒë·ªôi c·ª©u h·ªô", next: "wait_rescue" }
                ]
            },
            wait_rescue: {
                text: "ƒê·ªôi c·ª©u h·ªô ƒë·∫øn, ƒë∆∞a b·∫°n v√† Lena v·ªÅ Tr√°i ƒê·∫•t. D·ªØ li·ªáu t·ª´ Xerath m·ªü ra m·ªôt k·ª∑ nguy√™n kh√°m ph√° m·ªõi, nh∆∞ng b·∫°n kh√¥ng th·ªÉ qu√™n nh·ªØng g√¨ ƒë√£ th·∫•y.",
                ending: "Happy Ending: Tho√°t kh·ªèi Xerath, mang v·ªÅ ki·∫øn th·ª©c c·ªï ƒë·∫°i."
            },
            enter_glowing_forest: {
                text: "Khu r·ª´ng ph√°t s√°ng r·ª±c r·ª° v·ªõi nh·ªØng c√¢y ph√°t quang v√† sinh v·∫≠t bay l∆∞·ª£n nh∆∞ ƒëom ƒë√≥m kh·ªïng l·ªì. Lena ƒë·ªôt nhi√™n ng√£ xu·ªëng, da c√¥ chuy·ªÉn m√†u xanh: 'C√≥ g√¨ ƒë√≥... ƒëang ƒëi·ªÅu khi·ªÉn t√¥i!' Sam ho·∫£ng lo·∫°n: 'Ch√∫ng ta ph·∫£i l√†m g√¨ ƒë√≥!'",
                choices: [
                    { text: "C·ª©u Lena", next: "save_lena" },
                    { text: "Lo·∫°i b·ªè Lena", next: "eliminate_lena" },
                    { text: "T√¨m con t√†u c·ªï", next: "find_ancient_ship" },
                    { text: "Ki·ªÉm tra m√¥i tr∆∞·ªùng r·ª´ng", next: "check_forest" }
                ]
            },
            check_forest: {
                text: "B·∫°n ki·ªÉm tra khu r·ª´ng v√† t√¨m th·∫•y m·ªôt bia ƒë√° c·ªï v·ªõi k√Ω hi·ªáu gi·ªëng trong t√†n t√≠ch. N√≥ d∆∞·ªùng nh∆∞ l√† m·ªôt l·ªùi c·∫£nh b√°o v·ªÅ sinh v·∫≠t k√Ω sinh.",
                choices: [
                    { text: "ƒê·ªçc k·ªπ bia ƒë√°", next: "read_stone" },
                    { text: "Ti·∫øp t·ª•c t√¨m t√†u", next: "find_ancient_ship" }
                ]
            },
            read_stone: {
                text: "Bia ƒë√° k·ªÉ v·ªÅ m·ªôt lo√†i k√Ω sinh ki·ªÉm so√°t v·∫≠t ch·ªß. B·∫°n nh·∫≠n ra Lena c√≥ th·ªÉ ƒë√£ b·ªã nhi·ªÖm t·ª´ l√¢u, nh∆∞ng v·∫´n c√≤n c√°ch c·ª©u c√¥ ·∫•y.",
                choices: [
                    { text: "C·ª©u Lena", next: "save_lena" },
                    { text: "Lo·∫°i b·ªè Lena", next: "eliminate_lena" }
                ]
            },
            save_lena: {
                text: "B·∫°n c·ªë c·ª©u Lena b·∫±ng c√°ch ti√™m thu·ªëc kh√°ng sinh, nh∆∞ng sinh v·∫≠t k√Ω sinh ƒë√£ ki·ªÉm so√°t ho√†n to√†n. C√¥ t·∫•n c√¥ng b·∫°n v√† Sam, d·∫´n ƒë·∫øn th·∫£m k·ªãch.",
                ending: "Twist Ending: Lena b·ªã k√Ω sinh ki·ªÉm so√°t, c·∫£ ƒë·ªôi b·ªã ti√™u di·ªát."
            },
            eliminate_lena: {
                text: "B·∫°n bu·ªôc ph·∫£i lo·∫°i b·ªè Lena ƒë·ªÉ b·∫£o v·ªá ƒë·ªôi. T√†u c·ª©u h·ªô ƒë·∫øn ngay sau ƒë√≥, nh∆∞ng b·∫°n s·ªëng m√£i v·ªõi n·ªói ƒëau v√† t·ªôi l·ªói v√¨ m·∫•t c√¥ ·∫•y.",
                ending: "Guilt Ending: Tho√°t kh·ªèi Xerath, nh∆∞ng mang n·ªói ƒëau vƒ©nh vi·ªÖn."
            },
            find_ancient_ship: {
                text: "B·∫°n t√¨m th·∫•y m·ªôt con t√†u c·ªï trong r·ª´ng, v·∫´n c√≤n ho·∫°t ƒë·ªông. Sam h√†o h·ª©ng: 'Ch·ªâ c·∫ßn s·ª≠a n√≥, ch√∫ng ta s·∫Ω tho√°t kh·ªèi ƒë√¢y!' Nh∆∞ng khi kh·ªüi ƒë·ªông, m·ªôt ƒë√°m m√¢y k√Ω sinh tr√†n v√†o.",
                choices: [
                    { text: "S·ª≠a t√†u nhanh ch√≥ng", next: "repair_ship" },
                    { text: "Ki·ªÉm tra t√†u tr∆∞·ªõc", next: "check_ship" }
                ]
            },
            check_ship: {
                text: "B·∫°n ki·ªÉm tra v√† ph√°t hi·ªán k√Ω sinh trong h·ªá th·ªëng t√†u. B·∫°n ti√™u di·ªát ch√∫ng, v√† t√†u kh·ªüi ƒë·ªông th√†nh c√¥ng, ƒë∆∞a c·∫£ ƒë·ªôi v·ªÅ Tr√°i ƒê·∫•t.",
                ending: "Happy Ending: Tho√°t kh·ªèi Xerath b·∫±ng con t√†u c·ªï."
            },
            repair_ship: {
                text: "B·∫°n s·ª≠a t√†u, nh∆∞ng kh√¥ng nh·∫≠n ra k√Ω sinh ƒë√£ x√¢m nh·∫≠p. Khi t√†u c·∫•t c√°nh, c·∫£ ƒë·ªôi b·ªã k√Ω sinh ki·ªÉm so√°t, tr·ªü th√†nh v·∫≠t ch·ªß vƒ©nh vi·ªÖn.",
                ending: "Bad Ending: B·ªã k√Ω sinh ki·ªÉm so√°t, kh√¥ng c√≤n l√† con ng∆∞·ªùi."
            },
            answer_puzzle: {
                text: "B·∫°n tr·∫£ l·ªùi ƒë√∫ng c√¢u ƒë·ªë c·ªßa sinh v·∫≠t tr√≠ tu·ªá. H·ªç ·∫•n t∆∞·ª£ng v√† chia s·∫ª c√¥ng ngh·ªá c·ªßa h·ªç, ƒë·ªìng th·ªùi m·ªü ƒë∆∞·ªùng cho b·∫°n tr·ªü v·ªÅ Tr√°i ƒê·∫•t.",
                ending: "Happy Ending: Nh·∫≠n c√¥ng ngh·ªá c·ªï ƒë·∫°i, tr·ªü v·ªÅ an to√†n."
            },
            act_disrespectful: {
                text: "B·∫°n t·ªè ra b·∫•t k√≠nh, v√† sinh v·∫≠t tr√≠ tu·ªá x√≥a tr√≠ nh·ªõ c·ªßa b·∫°n. B·∫°n t·ªânh d·∫≠y tr√™n t√†u *Aurora*, kh√¥ng nh·ªõ g√¨, v√† nhi·ªám v·ª• b·∫Øt ƒë·∫ßu l·∫°i t·ª´ ƒë·∫ßu.",
                ending: "Loop Ending: Tr√≠ nh·ªõ b·ªã x√≥a, l·∫∑p l·∫°i nhi·ªám v·ª• vƒ©nh vi·ªÖn."
            }
        };

        let currentNode = "start";
        let timeLeft = 0;
        let timerInterval = null;

        function startTimer(limit) {
            if (timerInterval) clearInterval(timerInterval);
            timeLeft = limit;
            const timerElement = document.getElementById("timer");
            timerElement.innerText = `Th·ªùi gian c√≤n l·∫°i: ${timeLeft} gi√¢y`;
            timerInterval = setInterval(() => {
                timeLeft--;
                timerElement.innerText = `Th·ªùi gian c√≤n l·∫°i: ${timeLeft} gi√¢y`;
                if (timeLeft <= 0) {
                    clearInterval(timerInterval);
                    currentNode = "time_out";
                    displayCurrentNode();
                }
            }, 1000);
        }

        function displayCurrentNode() {
            const node = storyNodes[currentNode] || {
                text: "H·∫øt th·ªùi gian! M·ªôt s·ªë manh m·ªëi ƒë√£ bi·∫øn m·∫•t, v√† c·∫£ ƒë·ªôi b·ªã m·∫Øc k·∫πt tr√™n Xerath.",
                ending: "Bad Ending: H·∫øt th·ªùi gian, nhi·ªám v·ª• th·∫•t b·∫°i."
            };
            document.getElementById("story-text").innerHTML = node.text.replace(/\n/g, "<br>");
            const choicesContainer = document.getElementById("choices");
            const endingContainer = document.getElementById("ending");
            choicesContainer.innerHTML = "";
            endingContainer.innerText = "";

            if (node.timeLimit) {
                startTimer(node.timeLimit);
            } else {
                clearInterval(timerInterval);
                document.getElementById("timer").innerText = "";
            }

            if (node.choices) {
                node.choices.forEach(choice => {
                    const button = document.createElement("button");
                    button.innerText = choice.text;
                    button.className = "choice-btn";
                    button.onclick = () => {
                        clearInterval(timerInterval);
                        currentNode = choice.next;
                        displayCurrentNode();
                    };
                    choicesContainer.appendChild(button);
                });
            } else {
                clearInterval(timerInterval);
                endingContainer.innerText = node.ending;
                const restartButton = document.createElement("button");
                restartButton.innerText = "Ch∆°i l·∫°i t·ª´ ƒë·∫ßu";
                restartButton.className = "choice-btn restart-btn";
                restartButton.onclick = () => {
                    currentNode = "start";
                    displayCurrentNode();
                };
                choicesContainer.appendChild(restartButton);
            }
        }

        window.onload = () => {
            displayCurrentNode();
        };
    </script>
</body>
</html>